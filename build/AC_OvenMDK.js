/*! For license information please see AC_OvenMDK.js.LICENSE.txt */
(()=>{"use strict";var e={"./src/ASSETS/defaultIcon.png":e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAj0lEQVQ4jWNk+M/wn4ECwESJZgYGBgYWhtOYgv9NsTuK8TQjpgF17YaYKtdhtw2bWpYXLxCcmcfOMTAwMDCkWxlhNQCbPIuEBKZCbGK45FFcgMtmdICsB6sLCAGcLsAF8IUNSS7AphavCwjFCtEuwKeGMc3SkKK8gNcFjesgXqgPwuMFYmIBnxrGukDKvAAAHHArSjk7MrsAAAAASUVORK5CYII="},"./src/classes/core/Helper_func.ts":(e,t,o)=>{function r(e,t,o){ModAPI.is_1_12||ModAPI.reflect.getClassById("net.minecraft.creativetab.CreativeTabs").staticVariables.tabMisc,ModAPI.is_1_12&&ModAPI.reflect.getClassById("net.minecraft.creativetab.CreativeTabs").staticVariables.MISC;var r=ModAPI.reflect.getClassById("net.minecraft.item.Item").methods.getItemAttributeModifiers.method,n=ModAPI.reflect.getClassById("net.minecraft.item.Item"),i=ModAPI.reflect.getSuper(n,(function(e){return 1===e.length}));function s(){i(this),this.$setCreativeTab(void 0),this.$maxStackSize=t}ModAPI.reflect.prototypeStack(n,s),s.prototype.$onItemRightClick=function(e,t,o){return o.$setItemInUse(e,32),console.log("server itemstack:"),console.log(e),e},s.prototype.$onUpdate=function(e,t,o,r,n){return n=!!n,e},s.prototype.$onItemUseFinish=function(e,t,o){return e},s.prototype.$getMaxItemUseDuration=function(){return 32},s.prototype.$getItemAttributeModifiers=function(){return r.apply(this,[])},s.prototype.$getStrVsBlock=function(e,t){return 1},s.prototype.$onCreated=function(e,t,o){},s.prototype.$onBlockDestroyed=function(e,t,o,r,n){return 0};var c=function(){var t=(new s).$setUnlocalizedName(ModAPI.util.str("".concat(e)));return n.staticMethods.registerItem.method(ModAPI.keygen.item("".concat(e)),ModAPI.util.str("".concat(e)),t),ModAPI.items["".concat(e)]=t,console.log(t),console.log("Registered OvenMDK item ( Server Side )"),t};if(ModAPI.items)return c();ModAPI.addEventListener("bootstrap",c)}function n(e,t){var o=this,r=ModAPI.reflect.getClassById("net.minecraft.block.Block"),n=ModAPI.reflect.getClassById("net.minecraft.item.Item"),i=ModAPI.reflect.getClassById("net.minecraft.creativetab.CreativeTabs").staticVariables.tabBlock,s=ModAPI.reflect.getSuper(r,(function(e){return 2===e.length})),c=r.methods.breakBlock.method;function a(){s(this,ModAPI.materials.rock.getRef()),ModAPI.is_1_12||(this.$defaultBlockState=this.$blockState.$getBaseState()),this.$setCreativeTab(i)}ModAPI.reflect.prototypeStack(r,a),a.prototype.$breakBlock=function(e,t,o){return c(this,e,t,o)};var l=function(){var t,i,s;return ModAPI.is_1_12||(new a).$setHardness(3).$setStepSound(r.staticVariables.soundTypePiston).$setUnlocalizedName(ModAPI.util.str(o.blockID)),ModAPI.is_1_12&&(new a).$setHardness(3).$setSoundType(ModAPI.blockSounds.PLANT.getRef()).$setUnlocalizedName(ModAPI.util.str(o.blockID)),r.staticMethods.registerBlock0.method(ModAPI.keygen.block(e),ModAPI.util.str(e),t),n.staticMethods.registerItemBlock0.method(t),i=ModAPI.util.wrap(ModAPI.reflect.getClassById("net.minecraft.block.Block").staticVariables.blockRegistry).getCorrective(),s=ModAPI.util.wrap(ModAPI.reflect.getClassById("net.minecraft.block.Block").staticVariables.BLOCK_STATE_IDS).getCorrective(),i.registryObjects.hashTableKToV.forEach((function(e){if(e){var t=e.value,o=t.getBlockState().getValidStates();(o.array||[o.element]).forEach((function(e){var o=i.getIDForObject(t.getRef())<<4|t.getMetaFromState(e.getRef());s.put(e.getRef(),o)}))}})),ModAPI.blocks[e]=t,console.log("Registering block on server side"),console.log(t),t};if(ModAPI.materials)return l();ModAPI.addEventListener("bootstrap",l)}o.r(t),o.d(t,{registerServerBlock:()=>n,registerServerItem:()=>r})},"./src/classes/core/Mod.ts":(e,t,o)=>{o.r(t),o.d(t,{default:()=>n});var r=o("./src/ASSETS/defaultIcon.png");const n=function(){function e(){}return e.config=function(){},e.init=function(){},e.postInit=function(){},e.displayChatMessage=function(e){ModAPI.displayToChat(e)},e.title="Default Name",e.version="",e.description="Default OvenMDK Description. Set 'description' in your OMod class!",e.credits="None Given",e.icon=r,e.acceptedMinecraftVersions=null,e.acceptedEaglerUpdates=null,e.acceptedEFVersions=null,e.acceptedEFFlavour="injector",e.clientSideOnly=!1,e.serverSideOnly=!1,e.only_1_12_2=!1,e.Debug_mode=!1,e}()},"./src/classes/core/OBlock.ts":(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var r=function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},n=function(e,t){var o,r,n,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(o)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(o=1,r&&(n=2&c[0]?r.return:c[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,c[1])).done)return n;switch(r=0,n&&(c=[2&c[0],n.value]),c[0]){case 0:case 1:n=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((n=(n=i.trys).length>0&&n[n.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!n||c[1]>n[0]&&c[1]<n[3])){i.label=c[1];break}if(6===c[0]&&i.label<n[1]){i.label=n[1],n=c;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(c);break}n[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{o=n=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};const i=function(){function e(e,t,o,r){this.blockName=e,this.blockID=t,this.blockTexture=o,this.onBreak=r}return e.prototype.register=function(){var e=this,t=ModAPI.reflect.getClassById("net.minecraft.block.Block"),o=ModAPI.reflect.getClassById("net.minecraft.item.Item"),r=ModAPI.reflect.getClassById("net.minecraft.creativetab.CreativeTabs").staticVariables.tabBlock,n=ModAPI.reflect.getSuper(t,(function(e){return 2===e.length})),i=t.methods.breakBlock.method,s=this;function c(){n(this,ModAPI.materials.rock.getRef()),ModAPI.is_1_12||(this.$defaultBlockState=this.$blockState.$getBaseState()),this.$setCreativeTab(r)}ModAPI.reflect.prototypeStack(t,c),c.prototype.$breakBlock=function(e,t,o){return s.onBreak(e,t,o),i(this,e,t,o)};var a=function(){var r;return ModAPI.is_1_12||(new c).$setHardness(3).$setStepSound(t.staticVariables.soundTypePiston).$setUnlocalizedName(ModAPI.util.str(e.blockID)),ModAPI.is_1_12&&(new c).$setHardness(3).$setSoundType(ModAPI.blockSounds.PLANT.getRef()).$setUnlocalizedName(ModAPI.util.str(e.blockID)),t.staticMethods.registerBlock0.method(ModAPI.keygen.block(e.blockID),ModAPI.util.str(e.blockID),r),o.staticMethods.registerItemBlock0.method(r),e.fixupBlockIds(),ModAPI.blocks[e.blockID]=r,e.blockInstance=r,console.log("Registered block on client: "+e.blockID),console.log(r),r};if(ModAPI.materials)return a();ModAPI.addEventListener("bootstrap",a)},e.prototype.fixupBlockIds=function(){var e=ModAPI.util.wrap(ModAPI.reflect.getClassById("net.minecraft.block.Block").staticVariables.blockRegistry).getCorrective(),t=ModAPI.util.wrap(ModAPI.reflect.getClassById("net.minecraft.block.Block").staticVariables.BLOCK_STATE_IDS).getCorrective();e.registryObjects.hashTableKToV.forEach((function(o){if(o){var r=o.value,n=r.getBlockState().getValidStates();(n.array||[n.element]).forEach((function(o){var n=e.getIDForObject(r.getRef())<<4|r.getMetaFromState(o.getRef());t.put(o.getRef(),n)}))}}))},e.prototype.registerBlock=function(){return r(this,void 0,void 0,(function(){var t,o,i=this;return n(this,(function(s){return t=new e(this.blockName,this.blockID,this.blockTexture,this.onBreak).register(),o=this,ModAPI.dedicatedServer.appendCode('globalThis.registerServerBlock("'.concat(this.blockID,'", ').concat(this.onBreak,");")),ModAPI.addEventListener("lib:asyncsink",(function(){return r(i,void 0,void 0,(function(){var e;return n(this,(function(r){switch(r.label){case 0:return ModAPI.addEventListener("lib:asyncsink:registeritems",(function(e){e.registerBlock(t,ModAPI.util.str(o.blockID))})),AsyncSink.L10N.set("tile.".concat(o.blockID,".name"),o.blockName),console.log("Set localization for block ".concat(o.blockID)),AsyncSink.setFile("resourcepacks/AsyncSinkLib/assets/minecraft/models/block/".concat(o.blockID,".json"),JSON.stringify({parent:"block/cube_all",textures:{all:"blocks/".concat(o.blockID)}})),AsyncSink.setFile("resourcepacks/AsyncSinkLib/assets/minecraft/models/item/".concat(o.blockID,".json"),JSON.stringify({parent:"block/".concat(o.blockID),display:{thirdperson:{rotation:[10,-45,170],translation:[0,1.5,-2.75],scale:[.375,.375,.375]}}})),AsyncSink.setFile("resourcepacks/AsyncSinkLib/assets/minecraft/blockstates/".concat(o.blockID,".json"),JSON.stringify({variants:{normal:[{model:o.blockID}]}})),[4,fetch(o.blockTexture)];case 1:return[4,r.sent().arrayBuffer()];case 2:return e=r.sent(),AsyncSink.setFile("resourcepacks/AsyncSinkLib/assets/minecraft/textures/blocks/".concat(o.blockID,".png"),e),[2]}}))}))})),[2]}))}))},e}()},"./src/classes/core/OItem.ts":(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var r=function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},n=function(e,t){var o,r,n,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(o)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(o=1,r&&(n=2&c[0]?r.return:c[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,c[1])).done)return n;switch(r=0,n&&(c=[2&c[0],n.value]),c[0]){case 0:case 1:n=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((n=(n=i.trys).length>0&&n[n.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!n||c[1]>n[0]&&c[1]<n[3])){i.label=c[1];break}if(6===c[0]&&i.label<n[1]){i.label=n[1],n=c;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(c);break}n[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{o=n=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};const i=function(){function e(e,t,o,r,n){this.itemName=e,this.itemID=t,this.itemStack=o,this.itemTexture=r,this.onRightClick=n}return e.prototype.registerClient=function(){var e=this,t=ModAPI.reflect.getClassById("net.minecraft.item.Item").methods.getItemAttributeModifiers.method;ModAPI.is_1_12||ModAPI.reflect.getClassById("net.minecraft.creativetab.CreativeTabs").staticVariables.tabMisc,ModAPI.is_1_12&&ModAPI.reflect.getClassById("net.minecraft.creativetab.CreativeTabs").staticVariables.MISC;var o=ModAPI.reflect.getClassById("net.minecraft.item.Item"),r=ModAPI.reflect.getSuper(o,(function(e){return 1===e.length})),n=this.itemStack,i=this;function s(){r(this),this.$setCreativeTab(void 0),this.$maxStackSize=n}ModAPI.reflect.prototypeStack(o,s),s.prototype.$onItemRightClick=function(e,t,o){return i.onRightClick(e),o.$setItemInUse(e,32),console.log("client itemstack:"),console.log(e),e},s.prototype.$onUpdate=function(e,t,o,r,n){return n=!!n,e},s.prototype.$onItemUseFinish=function(e,t,o){return e},s.prototype.$getMaxItemUseDuration=function(){return 32},s.prototype.$getItemAttributeModifiers=function(){return t.apply(this,[])},s.prototype.$getStrVsBlock=function(e,t){return 1},s.prototype.$onCreated=function(e,t,o){},s.prototype.$onBlockDestroyed=function(e,t,o,r,n){return 0};var c=function(){var t=(new s).$setUnlocalizedName(ModAPI.util.str(e.itemID));return o.staticMethods.registerItem.method(ModAPI.keygen.item(e.itemID),ModAPI.util.str(e.itemID),t),ModAPI.items["".concat(i.itemID)]=t,console.log(t),console.log("Registered OvenMDK item ( client side )"),t};if(ModAPI.items)return c();ModAPI.addEventListener("bootstrap",c)},e.prototype.registerItem=function(){return r(this,void 0,void 0,(function(){var t,o,i=this;return n(this,(function(s){return t=this,o=new e(this.itemName,this.itemID,this.itemStack,this.itemTexture,this.onRightClick).registerClient(),ModAPI.dedicatedServer.appendCode('globalThis.registerServerItem("'.concat(this.itemID,'", ').concat(this.itemStack,", ").concat(this.onRightClick,");")),ModAPI.addEventListener("lib:asyncsink",(function(){return r(i,void 0,void 0,(function(){var e;return n(this,(function(r){switch(r.label){case 0:return ModAPI.addEventListener("lib:asyncsink:registeritems",(function(e){e.registerItem(o,ModAPI.util.str(t.itemID))})),AsyncSink.L10N.set("item.".concat(t.itemID,".name"),t.itemName),AsyncSink.setFile("resourcepacks/AsyncSinkLib/assets/minecraft/models/item/".concat(t.itemID,".json"),JSON.stringify({parent:"builtin/generated",textures:{layer0:"items/".concat(t.itemID)},display:{thirdperson:{rotation:[-90,0,0],translation:[0,1,-3],scale:[.55,.55,.55]},firstperson:{rotation:[0,-135,25],translation:[0,4,2],scale:[1.7,1.7,1.7]}}})),[4,fetch(t.itemTexture)];case 1:return[4,r.sent().arrayBuffer()];case 2:return e=r.sent(),AsyncSink.setFile("resourcepacks/AsyncSinkLib/assets/minecraft/textures/items/".concat(t.itemID,".png"),e),[2]}}))}))})),[2]}))}))},e}()},"./src/classes/core/Oven.ts":(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});const r=function(){function e(){}return e.registerMod=function(e){ModAPI.meta.title(e.title),ModAPI.meta.version(e.version),ModAPI.meta.description(e.description),ModAPI.meta.credits(e.credits),ModAPI.meta.icon(e.icon),ModAPI.meta.config(e.config()),e.init(),globalThis.Debug_mode=e.Debug_mode,this.mods.push(e)},e.mods=[],e}()}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{o.r(r);var e=o("./src/ASSETS/defaultIcon.png"),t=o("./src/classes/core/Helper_func.ts"),n=o("./src/classes/core/OItem.ts"),i=o("./src/classes/core/Mod.ts"),s=o("./src/classes/core/Oven.ts"),c=o("./src/classes/core/OBlock.ts");ModAPI.meta.title("OvenMDK Runtime"),ModAPI.meta.version("Alpha v0.1"),ModAPI.meta.description("Unofficial dev kit used for simplifying EaglerForge mod development."),ModAPI.meta.credits("BendieGames and Block_2222"),ModAPI.meta.icon(e),globalThis.registerServerItem=t.registerServerItem,globalThis.registerServerBlock=t.registerServerBlock,globalThis.OItem=n.default,globalThis.OMod=i.default,globalThis.OvenMDK=s.default,globalThis.OBlock=c.default,ModAPI.dedicatedServer.appendCode("globalThis.registerServerItem = ".concat(t.registerServerItem,";")),ModAPI.dedicatedServer.appendCode("globalThis.registerServerBlock = ".concat(t.registerServerBlock,";")),console.log("OvenMDK Runtime initialized")})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQUNfT3Zlbk1ESy5qcyIsIm1hcHBpbmdzIjoiOzJaQXNCTyxTQUFTQSxFQUFtQkMsRUFBUUMsRUFBV0MsR0FNN0NDLE9BQU9DLFNBQ2dCRCxPQUFPRSxRQUFRQyxhQUFhLDBDQUEwQ0MsZ0JBQWdCQyxRQUU5R0wsT0FBT0MsU0FDaUJELE9BQU9FLFFBQVFDLGFBQWEsMENBQTBDQyxnQkFBZ0JFLEtBRWxILElBQUlDLEVBQXNCUCxPQUFPRSxRQUFRQyxhQUFhLDJCQUEyQkssUUFBUUMsMEJBQTBCQyxPQUMvR0MsRUFBWVgsT0FBT0UsUUFBUUMsYUFBYSwyQkFDeENTLEVBQVlaLE9BQU9FLFFBQVFXLFNBQVNGLEdBQVcsU0FBVUcsR0FBTSxPQUFxQixJQUFkQSxFQUFHQyxNQUFjLElBSTNGLFNBQVNDLElBQ0xKLEVBQVVLLE1BQ1ZBLEtBQUtDLHFCQWZMQyxHQWdCQUYsS0FBS0csY0FBZ0IsQ0FDekIsQ0FDQXBCLE9BQU9FLFFBQVFtQixlQUFlVixFQUFXSyxHQUN6Q0EsRUFBYU0sVUFBVUMsa0JBQW9CLFNBQVVDLEVBQWFDLEVBQVNDLEdBTXZFLE9BTEEsRUFBV0MsY0FBY0gsRUFBYSxJQUd0Q0ksUUFBUUMsSUFBSSxxQkFDWkQsUUFBUUMsSUFBSUwsR0FDTCxDQUNYLEVBQ0FSLEVBQWFNLFVBQVVRLFVBQVksU0FBVU4sRUFBYUMsRUFBU0MsRUFBVUssRUFBZUMsR0FFeEYsT0FEQUEsSUFBWSxFQUNMLENBQ1gsRUFDQWhCLEVBQWFNLFVBQVVXLGlCQUFtQixTQUFVVCxFQUFhQyxFQUFTQyxHQUN0RSxPQUFPLENBQ1gsRUFDQVYsRUFBYU0sVUFBVVksdUJBQXlCLFdBQzVDLE9BQU8sRUFDWCxFQUNBbEIsRUFBYU0sVUFBVWEsMkJBQTZCLFdBRWhELE9BRHFCNUIsRUFBb0I2QixNQUFNbkIsS0FBTSxHQUV6RCxFQUNBRCxFQUFhTSxVQUFVZSxlQUFpQixTQUFVYixFQUFhYyxHQUMzRCxPQUFPLENBQ1gsRUFDQXRCLEVBQWFNLFVBQVVpQixXQUFhLFNBQVVmLEVBQWFDLEVBQVNDLEdBRXBFLEVBQ0FWLEVBQWFNLFVBQVVrQixrQkFBb0IsU0FBVWhCLEVBQWFDLEVBQVNhLEVBQVNHLEVBQVlDLEdBQzVGLE9BQU8sQ0FDWCxFQUNBLElBQUlDLEVBQWUsV0FDZixJQUFJQyxHQUFlLElBQUk1QixHQUFlNkIsb0JBQW9CN0MsT0FBTzhDLEtBQUtDLElBQUksR0FBR0MsT0FBT25ELEtBS3BGLE9BSkFjLEVBQVVzQyxjQUFjQyxhQUFheEMsT0FBT1YsT0FBT21ELE9BQU9DLEtBQUssR0FBR0osT0FBT25ELElBQVVHLE9BQU84QyxLQUFLQyxJQUFJLEdBQUdDLE9BQU9uRCxJQUFVK0MsR0FDdkg1QyxPQUFPcUQsTUFBTSxHQUFHTCxPQUFPbkQsSUFBVytDLEVBQ2xDaEIsUUFBUUMsSUFBSWUsR0FDWmhCLFFBQVFDLElBQUksMkNBQ0xlLENBQ1gsRUFDQSxHQUFJNUMsT0FBT3FELE1BQ1AsT0FBT1YsSUFHUDNDLE9BQU9zRCxpQkFBaUIsWUFBYVgsRUFFN0MsQ0FDTyxTQUFTWSxFQUFvQkMsRUFBU0MsR0FDekMsSUFBSUMsRUFBUXpDLEtBS1IwQyxFQUFhM0QsT0FBT0UsUUFBUUMsYUFBYSw2QkFDekN5RCxFQUFZNUQsT0FBT0UsUUFBUUMsYUFBYSwyQkFDeEMwRCxFQUFjN0QsT0FBT0UsUUFBUUMsYUFBYSwwQ0FBMENDLGdCQUFnQjBELFNBQ3BHQyxFQUFhL0QsT0FBT0UsUUFBUVcsU0FBUzhDLEdBQVksU0FBVTdDLEdBQU0sT0FBcUIsSUFBZEEsRUFBR0MsTUFBYyxJQUN6RmlELEVBQW1CTCxFQUFXbkQsUUFBUXlELFdBQVd2RCxPQUNyRCxTQUFTd0QsSUFDTEgsRUFBVzlDLEtBQU1qQixPQUFPbUUsVUFBVUMsS0FBS0MsVUFDbENyRSxPQUFPQyxVQUNSZ0IsS0FBS3FELG1CQUFxQnJELEtBQUtzRCxZQUFZQyxpQkFFL0N2RCxLQUFLQyxnQkFBZ0IyQyxFQUN6QixDQUNBN0QsT0FBT0UsUUFBUW1CLGVBQWVzQyxFQUFZTyxHQUMxQ0EsRUFBWTVDLFVBQVVtRCxZQUFjLFNBQVVDLEVBQVFDLEVBQVdDLEdBRTdELE9BQU9aLEVBQWlCL0MsS0FBTXlELEVBQVFDLEVBQVdDLEVBQ3JELEVBdUJBLElBQUlDLEVBQW1CLFdBQ25CLElBQUlDLEVBdEJBQyxFQUlBQyxFQXFDSixPQWxCS2hGLE9BQU9DLFVBQ2EsSUFBSWlFLEdBQ3BCZSxhQUFhLEdBQ2JDLGNBQWN2QixFQUFXdkQsZ0JBQWdCK0UsaUJBQ3pDdEMsb0JBQW9CN0MsT0FBTzhDLEtBQUtDLElBQUlXLEVBQU1GLFVBRS9DeEQsT0FBT0MsVUFDYyxJQUFJaUUsR0FDcEJlLGFBQWEsR0FDYkcsY0FBY3BGLE9BQU9xRixZQUFZQyxNQUFNakIsVUFDdkN4QixvQkFBb0I3QyxPQUFPOEMsS0FBS0MsSUFBSVcsRUFBTUYsVUFFbkRHLEVBQVdWLGNBQWNzQyxlQUFlN0UsT0FBT1YsT0FBT21ELE9BQU9xQyxNQUFNaEMsR0FBVXhELE9BQU84QyxLQUFLQyxJQUFJUyxHQUFVc0IsR0FDdkdsQixFQUFVWCxjQUFjd0MsbUJBQW1CL0UsT0FBT29FLEdBcEM5Q0MsRUFBZ0IvRSxPQUFPOEMsS0FDdEI0QyxLQUFLMUYsT0FBT0UsUUFBUUMsYUFBYSw2QkFBNkJDLGdCQUM5RDJFLGVBQ0FZLGdCQUNEWCxFQUFrQmhGLE9BQU84QyxLQUN4QjRDLEtBQUsxRixPQUFPRSxRQUFRQyxhQUFhLDZCQUE2QkMsZ0JBQzlENEUsaUJBQ0FXLGdCQUNMWixFQUFjYSxnQkFBZ0JDLGNBQWNDLFNBQVEsU0FBVUMsR0FDMUQsR0FBSUEsRUFBTyxDQUNQLElBQUlDLEVBQVVELEVBQU1FLE1BQ2hCQyxFQUFjRixFQUFRRyxnQkFBZ0JDLGtCQUN6QkYsRUFBWUcsT0FBUyxDQUFDSCxFQUFZSSxVQUN4Q1IsU0FBUSxTQUFVUyxHQUN6QixJQUFJQyxFQUFLekIsRUFBYzBCLGVBQWVULEVBQVEzQixXQUFhLEVBQ3ZEMkIsRUFBUVUsaUJBQWlCSCxFQUFZbEMsVUFDekNXLEVBQWdCMkIsSUFBSUosRUFBWWxDLFNBQVVtQyxFQUM5QyxHQUNKLENBQ0osSUFtQkF4RyxPQUFPNEcsT0FBT3BELEdBQVdzQixFQUN6QmxELFFBQVFDLElBQUksb0NBQ1pELFFBQVFDLElBQUlpRCxHQUNMQSxDQUNYLEVBQ0EsR0FBSTlFLE9BQU9tRSxVQUNQLE9BQU9VLElBR1A3RSxPQUFPc0QsaUJBQWlCLFlBQWF1QixFQUU3QyxpTEN0SEEsUUF4QjBCLFdBQ3RCLFNBQVNnQyxJQUNULENBb0JBLE9BbkJBQSxFQUFLQyxPQUFTLFdBQWMsRUFDNUJELEVBQUtFLEtBQU8sV0FBYyxFQUMxQkYsRUFBS0csU0FBVyxXQUFjLEVBQzlCSCxFQUFLSSxtQkFBcUIsU0FBVUMsR0FDaENsSCxPQUFPbUgsY0FBY0QsRUFDekIsRUFDQUwsRUFBS08sTUFBUSxlQUNiUCxFQUFLUSxRQUFVLEdBQ2ZSLEVBQUtTLFlBQWMscUVBQ25CVCxFQUFLVSxRQUFVLGFBQ2ZWLEVBQUtXLEtBQU8sRUFDWlgsRUFBS1ksMEJBQTRCLEtBQ2pDWixFQUFLYSxzQkFBd0IsS0FDN0JiLEVBQUtjLG1CQUFxQixLQUMxQmQsRUFBS2Usa0JBQW9CLFdBQ3pCZixFQUFLZ0IsZ0JBQWlCLEVBQ3RCaEIsRUFBS2lCLGdCQUFpQixFQUN0QmpCLEVBQUtrQixhQUFjLEVBQ25CbEIsRUFBS21CLFlBQWEsRUFDWG5CLENBQ1gsQ0F2QnlCLDJFQ3ZCekIsSUFBSW9CLEVBQXdDLFNBQVVDLEVBQVNDLEVBQVlDLEVBQUdDLEdBRTFFLE9BQU8sSUFBS0QsSUFBTUEsRUFBSUUsV0FBVSxTQUFVQyxFQUFTQyxHQUMvQyxTQUFTQyxFQUFVeEMsR0FBUyxJQUFNeUMsRUFBS0wsRUFBVU0sS0FBSzFDLEdBQVMsQ0FBRSxNQUFPMkMsR0FBS0osRUFBT0ksRUFBSSxDQUFFLENBQzFGLFNBQVNDLEVBQVM1QyxHQUFTLElBQU15QyxFQUFLTCxFQUFpQixNQUFFcEMsR0FBUyxDQUFFLE1BQU8yQyxHQUFLSixFQUFPSSxFQUFJLENBQUUsQ0FDN0YsU0FBU0YsRUFBS0ksR0FKbEIsSUFBZTdDLEVBSWE2QyxFQUFPQyxLQUFPUixFQUFRTyxFQUFPN0MsUUFKMUNBLEVBSXlENkMsRUFBTzdDLE1BSmhEQSxhQUFpQm1DLEVBQUluQyxFQUFRLElBQUltQyxHQUFFLFNBQVVHLEdBQVdBLEVBQVF0QyxFQUFRLEtBSWpCK0MsS0FBS1AsRUFBV0ksRUFBVyxDQUM3R0gsR0FBTUwsRUFBWUEsRUFBVWpHLE1BQU04RixFQUFTQyxHQUFjLEtBQUtRLE9BQ2xFLEdBQ0osRUFDSU0sRUFBNEMsU0FBVWYsRUFBU2dCLEdBQy9ELElBQXNHQyxFQUFHQyxFQUFHQyxFQUF4R0MsRUFBSSxDQUFFQyxNQUFPLEVBQUdDLEtBQU0sV0FBYSxHQUFXLEVBQVBILEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxFQUFJLEVBQUdJLEtBQU0sR0FBSUMsSUFBSyxJQUFlQyxFQUFJQyxPQUFPQyxRQUE0QixtQkFBYkMsU0FBMEJBLFNBQVdGLFFBQVF0SSxXQUN0TCxPQUFPcUksRUFBRWhCLEtBQU9vQixFQUFLLEdBQUlKLEVBQVMsTUFBSUksRUFBSyxHQUFJSixFQUFVLE9BQUlJLEVBQUssR0FBc0IsbUJBQVhDLFNBQTBCTCxFQUFFSyxPQUFPQyxVQUFZLFdBQWEsT0FBT2hKLElBQU0sR0FBSTBJLEVBQzFKLFNBQVNJLEVBQUtHLEdBQUssT0FBTyxTQUFVQyxHQUFLLE9BQ3pDLFNBQWNDLEdBQ1YsR0FBSWpCLEVBQUcsTUFBTSxJQUFJa0IsVUFBVSxtQ0FDM0IsS0FBT1YsSUFBTUEsRUFBSSxFQUFHUyxFQUFHLEtBQU9kLEVBQUksSUFBS0EsT0FDbkMsR0FBSUgsRUFBSSxFQUFHQyxJQUFNQyxFQUFZLEVBQVJlLEVBQUcsR0FBU2hCLEVBQVUsT0FBSWdCLEVBQUcsR0FBS2hCLEVBQVMsU0FBT0MsRUFBSUQsRUFBVSxTQUFNQyxFQUFFaUIsS0FBS2xCLEdBQUksR0FBS0EsRUFBRVQsU0FBV1UsRUFBSUEsRUFBRWlCLEtBQUtsQixFQUFHZ0IsRUFBRyxLQUFLckIsS0FBTSxPQUFPTSxFQUUzSixPQURJRCxFQUFJLEVBQUdDLElBQUdlLEVBQUssQ0FBUyxFQUFSQSxFQUFHLEdBQVFmLEVBQUVwRCxRQUN6Qm1FLEVBQUcsSUFDUCxLQUFLLEVBQUcsS0FBSyxFQUFHZixFQUFJZSxFQUFJLE1BQ3hCLEtBQUssRUFBYyxPQUFYZCxFQUFFQyxRQUFnQixDQUFFdEQsTUFBT21FLEVBQUcsR0FBSXJCLE1BQU0sR0FDaEQsS0FBSyxFQUFHTyxFQUFFQyxRQUFTSCxFQUFJZ0IsRUFBRyxHQUFJQSxFQUFLLENBQUMsR0FBSSxTQUN4QyxLQUFLLEVBQUdBLEVBQUtkLEVBQUVJLElBQUlhLE1BQU9qQixFQUFFRyxLQUFLYyxNQUFPLFNBQ3hDLFFBQ0ksTUFBa0JsQixHQUFaQSxFQUFJQyxFQUFFRyxNQUFZMUksT0FBUyxHQUFLc0ksRUFBRUEsRUFBRXRJLE9BQVMsS0FBa0IsSUFBVnFKLEVBQUcsSUFBc0IsSUFBVkEsRUFBRyxJQUFXLENBQUVkLEVBQUksRUFBRyxRQUFVLENBQzNHLEdBQWMsSUFBVmMsRUFBRyxNQUFjZixHQUFNZSxFQUFHLEdBQUtmLEVBQUUsSUFBTWUsRUFBRyxHQUFLZixFQUFFLElBQU0sQ0FBRUMsRUFBRUMsTUFBUWEsRUFBRyxHQUFJLEtBQU8sQ0FDckYsR0FBYyxJQUFWQSxFQUFHLElBQVlkLEVBQUVDLE1BQVFGLEVBQUUsR0FBSSxDQUFFQyxFQUFFQyxNQUFRRixFQUFFLEdBQUlBLEVBQUllLEVBQUksS0FBTyxDQUNwRSxHQUFJZixHQUFLQyxFQUFFQyxNQUFRRixFQUFFLEdBQUksQ0FBRUMsRUFBRUMsTUFBUUYsRUFBRSxHQUFJQyxFQUFFSSxJQUFJYyxLQUFLSixHQUFLLEtBQU8sQ0FDOURmLEVBQUUsSUFBSUMsRUFBRUksSUFBSWEsTUFDaEJqQixFQUFFRyxLQUFLYyxNQUFPLFNBRXRCSCxFQUFLbEIsRUFBS29CLEtBQUtwQyxFQUFTb0IsRUFDNUIsQ0FBRSxNQUFPVixHQUFLd0IsRUFBSyxDQUFDLEVBQUd4QixHQUFJUSxFQUFJLENBQUcsQ0FBRSxRQUFVRCxFQUFJRSxFQUFJLENBQUcsQ0FDekQsR0FBWSxFQUFSZSxFQUFHLEdBQVEsTUFBTUEsRUFBRyxHQUFJLE1BQU8sQ0FBRW5FLE1BQU9tRSxFQUFHLEdBQUtBLEVBQUcsUUFBSyxFQUFRckIsTUFBTSxFQUM5RSxDQXRCZ0RMLENBQUssQ0FBQ3dCLEVBQUdDLEdBQUssQ0FBRyxDQXVCckUsRUFrS0EsUUEzSTRCLFdBQ3hCLFNBQVNNLEVBQU9DLEVBQVdsSCxFQUFTbUgsRUFBU2xILEdBQ3pDeEMsS0FBS3lKLFVBQVlBLEVBQ2pCekosS0FBS3VDLFFBQVVBLEVBQ2Z2QyxLQUFLMkosYUFBZUQsRUFDcEIxSixLQUFLd0MsUUFBVUEsQ0FDbkIsQ0FtSUEsT0FsSUFnSCxFQUFPbkosVUFBVXVKLFNBQVcsV0FDeEIsSUFBSW5ILEVBQVF6QyxLQUNSMEMsRUFBYTNELE9BQU9FLFFBQVFDLGFBQWEsNkJBQ3pDeUQsRUFBWTVELE9BQU9FLFFBQVFDLGFBQWEsMkJBQ3hDMEQsRUFBYzdELE9BQU9FLFFBQVFDLGFBQWEsMENBQTBDQyxnQkFBZ0IwRCxTQUNwR0MsRUFBYS9ELE9BQU9FLFFBQVFXLFNBQVM4QyxHQUFZLFNBQVU3QyxHQUFNLE9BQXFCLElBQWRBLEVBQUdDLE1BQWMsSUFDekZpRCxFQUFtQkwsRUFBV25ELFFBQVF5RCxXQUFXdkQsT0FDakRvSyxFQUFPN0osS0FDWCxTQUFTaUQsSUFDTEgsRUFBVzlDLEtBQU1qQixPQUFPbUUsVUFBVUMsS0FBS0MsVUFDbENyRSxPQUFPQyxVQUNSZ0IsS0FBS3FELG1CQUFxQnJELEtBQUtzRCxZQUFZQyxpQkFFL0N2RCxLQUFLQyxnQkFBZ0IyQyxFQUN6QixDQUNBN0QsT0FBT0UsUUFBUW1CLGVBQWVzQyxFQUFZTyxHQUMxQ0EsRUFBWTVDLFVBQVVtRCxZQUFjLFNBQVVDLEVBQVFDLEVBQVdDLEdBRTdELE9BREFrRyxFQUFLckgsUUFBUWlCLEVBQVFDLEVBQVdDLEdBQ3pCWixFQUFpQi9DLEtBQU15RCxFQUFRQyxFQUFXQyxFQUNyRCxFQUNBLElBQUlDLEVBQW1CLFdBQ25CLElBQUlDLEVBb0JKLE9BbkJLOUUsT0FBT0MsVUFDYSxJQUFJaUUsR0FDcEJlLGFBQWEsR0FDYkMsY0FBY3ZCLEVBQVd2RCxnQkFBZ0IrRSxpQkFDekN0QyxvQkFBb0I3QyxPQUFPOEMsS0FBS0MsSUFBSVcsRUFBTUYsVUFFL0N4RCxPQUFPQyxVQUNjLElBQUlpRSxHQUNwQmUsYUFBYSxHQUNiRyxjQUFjcEYsT0FBT3FGLFlBQVlDLE1BQU1qQixVQUN2Q3hCLG9CQUFvQjdDLE9BQU84QyxLQUFLQyxJQUFJVyxFQUFNRixVQUVuREcsRUFBV1YsY0FBY3NDLGVBQWU3RSxPQUFPVixPQUFPbUQsT0FBT3FDLE1BQU05QixFQUFNRixTQUFVeEQsT0FBTzhDLEtBQUtDLElBQUlXLEVBQU1GLFNBQVVzQixHQUNuSGxCLEVBQVVYLGNBQWN3QyxtQkFBbUIvRSxPQUFPb0UsR0FDbERwQixFQUFNcUgsZ0JBQ04vSyxPQUFPNEcsT0FBT2xELEVBQU1GLFNBQVdzQixFQUMvQnBCLEVBQU1zSCxjQUFnQmxHLEVBQ3RCbEQsUUFBUUMsSUFBSSwrQkFBaUM2QixFQUFNRixTQUNuRDVCLFFBQVFDLElBQUlpRCxHQUNMQSxDQUNYLEVBQ0EsR0FBSTlFLE9BQU9tRSxVQUNQLE9BQU9VLElBR1A3RSxPQUFPc0QsaUJBQWlCLFlBQWF1QixFQUU3QyxFQUNBNEYsRUFBT25KLFVBQVV5SixjQUFnQixXQUM3QixJQUFJaEcsRUFBZ0IvRSxPQUFPOEMsS0FDdEI0QyxLQUFLMUYsT0FBT0UsUUFBUUMsYUFBYSw2QkFBNkJDLGdCQUM5RDJFLGVBQ0FZLGdCQUNEWCxFQUFrQmhGLE9BQU84QyxLQUN4QjRDLEtBQUsxRixPQUFPRSxRQUFRQyxhQUFhLDZCQUE2QkMsZ0JBQzlENEUsaUJBQ0FXLGdCQUNMWixFQUFjYSxnQkFBZ0JDLGNBQWNDLFNBQVEsU0FBVUMsR0FDMUQsR0FBSUEsRUFBTyxDQUNQLElBQUlDLEVBQVVELEVBQU1FLE1BQ2hCQyxFQUFjRixFQUFRRyxnQkFBZ0JDLGtCQUN6QkYsRUFBWUcsT0FBUyxDQUFDSCxFQUFZSSxVQUN4Q1IsU0FBUSxTQUFVUyxHQUN6QixJQUFJQyxFQUFLekIsRUFBYzBCLGVBQWVULEVBQVEzQixXQUFhLEVBQ3ZEMkIsRUFBUVUsaUJBQWlCSCxFQUFZbEMsVUFDekNXLEVBQWdCMkIsSUFBSUosRUFBWWxDLFNBQVVtQyxFQUM5QyxHQUNKLENBQ0osR0FDSixFQUNBaUUsRUFBT25KLFVBQVUySixjQUFnQixXQUM3QixPQUFPaEQsRUFBVWhILFVBQU0sT0FBUSxHQUFRLFdBQ25DLElBQUk2RCxFQUFjZ0csRUFDZHBILEVBQVF6QyxLQUNaLE9BQU9nSSxFQUFZaEksTUFBTSxTQUFVaUssR0FrRC9CLE9BakRBcEcsRUFBZSxJQUFJMkYsRUFBT3hKLEtBQUt5SixVQUFXekosS0FBS3VDLFFBQVN2QyxLQUFLMkosYUFBYzNKLEtBQUt3QyxTQUFTb0gsV0FDekZDLEVBQU83SixLQUNQakIsT0FBT21MLGdCQUFnQkMsV0FBVyxtQ0FBb0NwSSxPQUFPL0IsS0FBS3VDLFFBQVMsT0FBUVIsT0FBTy9CLEtBQUt3QyxRQUFTLE9BQ3hIekQsT0FBT3NELGlCQUFpQixpQkFBaUIsV0FBYyxPQUFPMkUsRUFBVXZFLE9BQU8sT0FBUSxHQUFRLFdBQzNGLElBQWMySCxFQUNkLE9BQU9wQyxFQUFZaEksTUFBTSxTQUFVaUssR0FDL0IsT0FBUUEsRUFBRzNCLE9BQ1AsS0FBSyxFQStCRCxPQTlCQXZKLE9BQU9zRCxpQkFBaUIsK0JBQStCLFNBQVVnSSxHQUM3REEsRUFBV0wsY0FBY25HLEVBQWM5RSxPQUFPOEMsS0FBS0MsSUFBSStILEVBQUt0SCxTQUNoRSxJQUNBK0gsVUFBVUMsS0FBS0MsSUFBSSxRQUFRekksT0FBTzhILEVBQUt0SCxRQUFTLFNBQVVzSCxFQUFLSixXQUMvRDlJLFFBQVFDLElBQUksOEJBQThCbUIsT0FBTzhILEVBQUt0SCxVQUN0RCtILFVBQVVHLFFBQVEsNERBQTREMUksT0FBTzhILEVBQUt0SCxRQUFTLFNBQVVtSSxLQUFLQyxVQUFVLENBQ3hIQyxPQUFRLGlCQUNSQyxTQUFVLENBQ05DLElBQUssVUFBVS9JLE9BQU84SCxFQUFLdEgsYUFHbkMrSCxVQUFVRyxRQUFRLDJEQUEyRDFJLE9BQU84SCxFQUFLdEgsUUFBUyxTQUFVbUksS0FBS0MsVUFBVSxDQUN2SEMsT0FBUSxTQUFTN0ksT0FBTzhILEVBQUt0SCxTQUM3QndJLFFBQVMsQ0FDTEMsWUFBYSxDQUNUQyxTQUFVLENBQUMsSUFBSyxHQUFJLEtBQ3BCQyxZQUFhLENBQUMsRUFBRyxLQUFNLE1BQ3ZCQyxNQUFPLENBQUMsS0FBTyxLQUFPLFdBSWxDYixVQUFVRyxRQUFRLDJEQUEyRDFJLE9BQU84SCxFQUFLdEgsUUFBUyxTQUFVbUksS0FBS0MsVUFBVSxDQUN2SFMsU0FBVSxDQUNOQyxPQUFRLENBQ0osQ0FDSUMsTUFBT3pCLEVBQUt0SCxjQUtyQixDQUFDLEVBQWFnSixNQUFNMUIsRUFBS0YsZUFDcEMsS0FBSyxFQUVELE1BQU8sQ0FBQyxFQURHTSxFQUFHMUIsT0FDZ0JpRCxlQUNsQyxLQUFLLEVBR0QsT0FGQXBCLEVBQVNILEVBQUcxQixPQUNaK0IsVUFBVUcsUUFBUSwrREFBK0QxSSxPQUFPOEgsRUFBS3RILFFBQVMsUUFBUzZILEdBQ3hHLENBQUMsR0FFcEIsR0FDSixHQUFJLElBQ0csQ0FBQyxFQUNaLEdBQ0osR0FDSixFQUNPWixDQUNYLENBMUkyQiwwRUMxRDNCLElBQUl4QyxFQUF3QyxTQUFVQyxFQUFTQyxFQUFZQyxFQUFHQyxHQUUxRSxPQUFPLElBQUtELElBQU1BLEVBQUlFLFdBQVUsU0FBVUMsRUFBU0MsR0FDL0MsU0FBU0MsRUFBVXhDLEdBQVMsSUFBTXlDLEVBQUtMLEVBQVVNLEtBQUsxQyxHQUFTLENBQUUsTUFBTzJDLEdBQUtKLEVBQU9JLEVBQUksQ0FBRSxDQUMxRixTQUFTQyxFQUFTNUMsR0FBUyxJQUFNeUMsRUFBS0wsRUFBaUIsTUFBRXBDLEdBQVMsQ0FBRSxNQUFPMkMsR0FBS0osRUFBT0ksRUFBSSxDQUFFLENBQzdGLFNBQVNGLEVBQUtJLEdBSmxCLElBQWU3QyxFQUlhNkMsRUFBT0MsS0FBT1IsRUFBUU8sRUFBTzdDLFFBSjFDQSxFQUl5RDZDLEVBQU83QyxNQUpoREEsYUFBaUJtQyxFQUFJbkMsRUFBUSxJQUFJbUMsR0FBRSxTQUFVRyxHQUFXQSxFQUFRdEMsRUFBUSxLQUlqQitDLEtBQUtQLEVBQVdJLEVBQVcsQ0FDN0dILEdBQU1MLEVBQVlBLEVBQVVqRyxNQUFNOEYsRUFBU0MsR0FBYyxLQUFLUSxPQUNsRSxHQUNKLEVBQ0lNLEVBQTRDLFNBQVVmLEVBQVNnQixHQUMvRCxJQUFzR0MsRUFBR0MsRUFBR0MsRUFBeEdDLEVBQUksQ0FBRUMsTUFBTyxFQUFHQyxLQUFNLFdBQWEsR0FBVyxFQUFQSCxFQUFFLEdBQVEsTUFBTUEsRUFBRSxHQUFJLE9BQU9BLEVBQUUsRUFBSSxFQUFHSSxLQUFNLEdBQUlDLElBQUssSUFBZUMsRUFBSUMsT0FBT0MsUUFBNEIsbUJBQWJDLFNBQTBCQSxTQUFXRixRQUFRdEksV0FDdEwsT0FBT3FJLEVBQUVoQixLQUFPb0IsRUFBSyxHQUFJSixFQUFTLE1BQUlJLEVBQUssR0FBSUosRUFBVSxPQUFJSSxFQUFLLEdBQXNCLG1CQUFYQyxTQUEwQkwsRUFBRUssT0FBT0MsVUFBWSxXQUFhLE9BQU9oSixJQUFNLEdBQUkwSSxFQUMxSixTQUFTSSxFQUFLRyxHQUFLLE9BQU8sU0FBVUMsR0FBSyxPQUN6QyxTQUFjQyxHQUNWLEdBQUlqQixFQUFHLE1BQU0sSUFBSWtCLFVBQVUsbUNBQzNCLEtBQU9WLElBQU1BLEVBQUksRUFBR1MsRUFBRyxLQUFPZCxFQUFJLElBQUtBLE9BQ25DLEdBQUlILEVBQUksRUFBR0MsSUFBTUMsRUFBWSxFQUFSZSxFQUFHLEdBQVNoQixFQUFVLE9BQUlnQixFQUFHLEdBQUtoQixFQUFTLFNBQU9DLEVBQUlELEVBQVUsU0FBTUMsRUFBRWlCLEtBQUtsQixHQUFJLEdBQUtBLEVBQUVULFNBQVdVLEVBQUlBLEVBQUVpQixLQUFLbEIsRUFBR2dCLEVBQUcsS0FBS3JCLEtBQU0sT0FBT00sRUFFM0osT0FESUQsRUFBSSxFQUFHQyxJQUFHZSxFQUFLLENBQVMsRUFBUkEsRUFBRyxHQUFRZixFQUFFcEQsUUFDekJtRSxFQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBR2YsRUFBSWUsRUFBSSxNQUN4QixLQUFLLEVBQWMsT0FBWGQsRUFBRUMsUUFBZ0IsQ0FBRXRELE1BQU9tRSxFQUFHLEdBQUlyQixNQUFNLEdBQ2hELEtBQUssRUFBR08sRUFBRUMsUUFBU0gsRUFBSWdCLEVBQUcsR0FBSUEsRUFBSyxDQUFDLEdBQUksU0FDeEMsS0FBSyxFQUFHQSxFQUFLZCxFQUFFSSxJQUFJYSxNQUFPakIsRUFBRUcsS0FBS2MsTUFBTyxTQUN4QyxRQUNJLE1BQWtCbEIsR0FBWkEsRUFBSUMsRUFBRUcsTUFBWTFJLE9BQVMsR0FBS3NJLEVBQUVBLEVBQUV0SSxPQUFTLEtBQWtCLElBQVZxSixFQUFHLElBQXNCLElBQVZBLEVBQUcsSUFBVyxDQUFFZCxFQUFJLEVBQUcsUUFBVSxDQUMzRyxHQUFjLElBQVZjLEVBQUcsTUFBY2YsR0FBTWUsRUFBRyxHQUFLZixFQUFFLElBQU1lLEVBQUcsR0FBS2YsRUFBRSxJQUFNLENBQUVDLEVBQUVDLE1BQVFhLEVBQUcsR0FBSSxLQUFPLENBQ3JGLEdBQWMsSUFBVkEsRUFBRyxJQUFZZCxFQUFFQyxNQUFRRixFQUFFLEdBQUksQ0FBRUMsRUFBRUMsTUFBUUYsRUFBRSxHQUFJQSxFQUFJZSxFQUFJLEtBQU8sQ0FDcEUsR0FBSWYsR0FBS0MsRUFBRUMsTUFBUUYsRUFBRSxHQUFJLENBQUVDLEVBQUVDLE1BQVFGLEVBQUUsR0FBSUMsRUFBRUksSUFBSWMsS0FBS0osR0FBSyxLQUFPLENBQzlEZixFQUFFLElBQUlDLEVBQUVJLElBQUlhLE1BQ2hCakIsRUFBRUcsS0FBS2MsTUFBTyxTQUV0QkgsRUFBS2xCLEVBQUtvQixLQUFLcEMsRUFBU29CLEVBQzVCLENBQUUsTUFBT1YsR0FBS3dCLEVBQUssQ0FBQyxFQUFHeEIsR0FBSVEsRUFBSSxDQUFHLENBQUUsUUFBVUQsRUFBSUUsRUFBSSxDQUFHLENBQ3pELEdBQVksRUFBUmUsRUFBRyxHQUFRLE1BQU1BLEVBQUcsR0FBSSxNQUFPLENBQUVuRSxNQUFPbUUsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUXJCLE1BQU0sRUFDOUUsQ0F0QmdETCxDQUFLLENBQUN3QixFQUFHQyxHQUFLLENBQUcsQ0F1QnJFLEVBcUpBLFFBOUgyQixXQUN2QixTQUFTdUMsRUFBTUMsRUFBVTlNLEVBQVFDLEVBQVc2SyxFQUFTNUssR0FDakRrQixLQUFLMEwsU0FBV0EsRUFDaEIxTCxLQUFLcEIsT0FBU0EsRUFDZG9CLEtBQUtuQixVQUFZQSxFQUNqQm1CLEtBQUsyTCxZQUFjakMsRUFDbkIxSixLQUFLbEIsYUFBZUEsQ0FDeEIsQ0FxSEEsT0FwSEEyTSxFQUFNcEwsVUFBVXVMLGVBQWlCLFdBQzdCLElBQUluSixFQUFRekMsS0FDUlYsRUFBc0JQLE9BQU9FLFFBQVFDLGFBQWEsMkJBQTJCSyxRQUFRQywwQkFBMEJDLE9BRTlHVixPQUFPQyxTQUNnQkQsT0FBT0UsUUFBUUMsYUFBYSwwQ0FBMENDLGdCQUFnQkMsUUFFOUdMLE9BQU9DLFNBQ2lCRCxPQUFPRSxRQUFRQyxhQUFhLDBDQUEwQ0MsZ0JBQWdCRSxLQUVsSCxJQUFJSyxFQUFZWCxPQUFPRSxRQUFRQyxhQUFhLDJCQUN4Q1MsRUFBWVosT0FBT0UsUUFBUVcsU0FBU0YsR0FBVyxTQUFVRyxHQUFNLE9BQXFCLElBQWRBLEVBQUdDLE1BQWMsSUFDdkZqQixFQUFZbUIsS0FBS25CLFVBQ2pCZ0wsRUFBTzdKLEtBQ1gsU0FBU0QsSUFDTEosRUFBVUssTUFDVkEsS0FBS0MscUJBYkxDLEdBY0FGLEtBQUtHLGNBQWdCLENBQ3pCLENBQ0FwQixPQUFPRSxRQUFRbUIsZUFBZVYsRUFBV0ssR0FDekNBLEVBQWFNLFVBQVVDLGtCQUFvQixTQUFVQyxFQUFhQyxFQUFTQyxHQU12RSxPQUxBb0osRUFBSy9LLGFBQWF5QixHQUNsQixFQUFXRyxjQUFjSCxFQUFhLElBRXRDSSxRQUFRQyxJQUFJLHFCQUNaRCxRQUFRQyxJQUFJTCxHQUNMLENBQ1gsRUFDQVIsRUFBYU0sVUFBVVEsVUFBWSxTQUFVTixFQUFhQyxFQUFTQyxFQUFVSyxFQUFlQyxHQUV4RixPQURBQSxJQUFZLEVBQ0wsQ0FDWCxFQUNBaEIsRUFBYU0sVUFBVVcsaUJBQW1CLFNBQVVULEVBQWFDLEVBQVNDLEdBQ3RFLE9BQU8sQ0FDWCxFQUNBVixFQUFhTSxVQUFVWSx1QkFBeUIsV0FDNUMsT0FBTyxFQUNYLEVBQ0FsQixFQUFhTSxVQUFVYSwyQkFBNkIsV0FFaEQsT0FEcUI1QixFQUFvQjZCLE1BQU1uQixLQUFNLEdBRXpELEVBQ0FELEVBQWFNLFVBQVVlLGVBQWlCLFNBQVViLEVBQWFjLEdBQzNELE9BQU8sQ0FDWCxFQUNBdEIsRUFBYU0sVUFBVWlCLFdBQWEsU0FBVWYsRUFBYUMsRUFBU0MsR0FFcEUsRUFDQVYsRUFBYU0sVUFBVWtCLGtCQUFvQixTQUFVaEIsRUFBYUMsRUFBU2EsRUFBU0csRUFBWUMsR0FDNUYsT0FBTyxDQUNYLEVBQ0EsSUFBSUMsRUFBZSxXQUNmLElBQUlDLEdBQWUsSUFBSTVCLEdBQWU2QixvQkFBb0I3QyxPQUFPOEMsS0FBS0MsSUFBSVcsRUFBTTdELFNBS2hGLE9BSkFjLEVBQVVzQyxjQUFjQyxhQUFheEMsT0FBT1YsT0FBT21ELE9BQU9DLEtBQUtNLEVBQU03RCxRQUFTRyxPQUFPOEMsS0FBS0MsSUFBSVcsRUFBTTdELFFBQVMrQyxHQUM3RzVDLE9BQU9xRCxNQUFNLEdBQUdMLE9BQU84SCxFQUFLakwsU0FBVytDLEVBQ3ZDaEIsUUFBUUMsSUFBSWUsR0FDWmhCLFFBQVFDLElBQUksMkNBQ0xlLENBQ1gsRUFDQSxHQUFJNUMsT0FBT3FELE1BQ1AsT0FBT1YsSUFHUDNDLE9BQU9zRCxpQkFBaUIsWUFBYVgsRUFFN0MsRUFDQStKLEVBQU1wTCxVQUFVNEIsYUFBZSxXQUMzQixPQUFPK0UsRUFBVWhILFVBQU0sT0FBUSxHQUFRLFdBQ25DLElBQUk2SixFQUFNZ0MsRUFDTnBKLEVBQVF6QyxLQUNaLE9BQU9nSSxFQUFZaEksTUFBTSxTQUFVaUssR0EwQy9CLE9BekNBSixFQUFPN0osS0FDUDZMLEVBQWMsSUFBSUosRUFBTXpMLEtBQUswTCxTQUFVMUwsS0FBS3BCLE9BQVFvQixLQUFLbkIsVUFBV21CLEtBQUsyTCxZQUFhM0wsS0FBS2xCLGNBQWM4TSxpQkFDekc3TSxPQUFPbUwsZ0JBQWdCQyxXQUFXLGtDQUFtQ3BJLE9BQU8vQixLQUFLcEIsT0FBUSxPQUFRbUQsT0FBTy9CLEtBQUtuQixVQUFXLE1BQU1rRCxPQUFPL0IsS0FBS2xCLGFBQWMsT0FDeEpDLE9BQU9zRCxpQkFBaUIsaUJBQWlCLFdBQWMsT0FBTzJFLEVBQVV2RSxPQUFPLE9BQVEsR0FBUSxXQUMzRixJQUFjMkgsRUFDZCxPQUFPcEMsRUFBWWhJLE1BQU0sU0FBVWlLLEdBQy9CLE9BQVFBLEVBQUczQixPQUNQLEtBQUssRUF1QkQsT0F0QkF2SixPQUFPc0QsaUJBQWlCLCtCQUErQixTQUFVZ0ksR0FDN0RBLEVBQVdwSSxhQUFhNEosRUFBYTlNLE9BQU84QyxLQUFLQyxJQUFJK0gsRUFBS2pMLFFBQzlELElBQ0EwTCxVQUFVQyxLQUFLQyxJQUFJLFFBQVF6SSxPQUFPOEgsRUFBS2pMLE9BQVEsU0FBVWlMLEVBQUs2QixVQUM5RHBCLFVBQVVHLFFBQVEsMkRBQTJEMUksT0FBTzhILEVBQUtqTCxPQUFRLFNBQVU4TCxLQUFLQyxVQUFVLENBQ3RIQyxPQUFRLG9CQUNSQyxTQUFVLENBQ05pQixPQUFRLFNBQVMvSixPQUFPOEgsRUFBS2pMLFNBRWpDbU0sUUFBUyxDQUNMQyxZQUFhLENBQ1RDLFNBQVUsRUFBRSxHQUFJLEVBQUcsR0FDbkJDLFlBQWEsQ0FBQyxFQUFHLEdBQUksR0FDckJDLE1BQU8sQ0FBQyxJQUFNLElBQU0sTUFFeEJZLFlBQWEsQ0FDVGQsU0FBVSxDQUFDLEdBQUksSUFBSyxJQUNwQkMsWUFBYSxDQUFDLEVBQUcsRUFBRyxHQUNwQkMsTUFBTyxDQUFDLElBQUssSUFBSyxVQUl2QixDQUFDLEVBQWFJLE1BQU0xQixFQUFLOEIsY0FDcEMsS0FBSyxFQUVELE1BQU8sQ0FBQyxFQURHMUIsRUFBRzFCLE9BQ2dCaUQsZUFDbEMsS0FBSyxFQUdELE9BRkFwQixFQUFTSCxFQUFHMUIsT0FDWitCLFVBQVVHLFFBQVEsOERBQThEMUksT0FBTzhILEVBQUtqTCxPQUFRLFFBQVN3TCxHQUN0RyxDQUFDLEdBRXBCLEdBQ0osR0FBSSxJQUNHLENBQUMsRUFDWixHQUNKLEdBQ0osRUFDT3FCLENBQ1gsQ0E3SDBCLHlFQ2hCMUIsUUFwQjBCLFdBQ3RCLFNBQVNPLElBQ1QsQ0FnQkEsT0FmQUEsRUFBS0MsWUFBYyxTQUFVQyxHQUN6Qm5OLE9BQU9vTixLQUFLaEcsTUFBTStGLEVBQVMvRixPQUMzQnBILE9BQU9vTixLQUFLL0YsUUFBUThGLEVBQVM5RixTQUM3QnJILE9BQU9vTixLQUFLOUYsWUFBWTZGLEVBQVM3RixhQUNqQ3RILE9BQU9vTixLQUFLN0YsUUFBUTRGLEVBQVM1RixTQUM3QnZILE9BQU9vTixLQUFLNUYsS0FBSzJGLEVBQVMzRixNQUMxQnhILE9BQU9vTixLQUFLdEcsT0FBT3FHLEVBQVNyRyxVQUM1QnFHLEVBQVNwRyxPQUNUc0csV0FBV3JGLFdBQWFtRixFQUFTbkYsV0FJakMvRyxLQUFLcU0sS0FBSzlDLEtBQUsyQyxFQUNuQixFQUNBRixFQUFLSyxLQUFPLEdBQ0xMLENBQ1gsQ0FuQnlCLEtDckJyQk0sRUFBMkIsQ0FBQyxFQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JMLEdBQVVJLEVBQVFBLEVBQU9ELFFBQVNKLEdBRy9DSyxFQUFPRCxPQUNmLENDckJBSixFQUFvQk8sRUFBSSxDQUFDSCxFQUFTSSxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hSLEVBQW9CVSxFQUFFRixFQUFZQyxLQUFTVCxFQUFvQlUsRUFBRU4sRUFBU0ssSUFDNUVyRSxPQUFPdUUsZUFBZVAsRUFBU0ssRUFBSyxDQUFFRyxZQUFZLEVBQU1DLElBQUtMLEVBQVdDLE1DSjNFVCxFQUFvQlUsRUFBSSxDQUFDSSxFQUFLQyxJQUFVM0UsT0FBT3RJLFVBQVVrTixlQUFlbEUsS0FBS2dFLEVBQUtDLEdDQ2xGZixFQUFvQmlCLEVBQUtiLElBQ0gsb0JBQVg1RCxRQUEwQkEsT0FBTzBFLGFBQzFDOUUsT0FBT3VFLGVBQWVQLEVBQVM1RCxPQUFPMEUsWUFBYSxDQUFFekksTUFBTyxXQUU3RDJELE9BQU91RSxlQUFlUCxFQUFTLGFBQWMsQ0FBRTNILE9BQU8sc1BDbUJ2RGpHLE9BQU9vTixLQUFLaEcsTUFBTSxtQkFDbEJwSCxPQUFPb04sS0FBSy9GLFFBQVEsY0FDcEJySCxPQUFPb04sS0FBSzlGLFlBQVksd0VBQ3hCdEgsT0FBT29OLEtBQUs3RixRQUFRLDhCQUNwQnZILE9BQU9vTixLQUFLNUYsS0FBSyxHQU1qQjZGLFdBQVd6TixtQkFBcUIsRUFBQUEsbUJBQ2hDeU4sV0FBVzlKLG9CQUFzQixFQUFBQSxvQkFDakM4SixXQUFXWCxNQUFRLFVBQ25CVyxXQUFXeEcsS0FBTyxVQUNsQndHLFdBQVdzQixRQUFVLFVBQ3JCdEIsV0FBVzVDLE9BQVMsVUFFcEJ6SyxPQUFPbUwsZ0JBQWdCQyxXQUFXLG1DQUFtQ3BJLE9BQU8sRUFBQXBELG1CQUFvQixNQUNoR0ksT0FBT21MLGdCQUFnQkMsV0FBVyxvQ0FBb0NwSSxPQUFPLEVBQUFPLG9CQUFxQixNQUNsRzNCLFFBQVFDLElBQUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vdmVubWRrLXJ1bnRpbWUvLi9zcmMvY2xhc3Nlcy9jb3JlL0hlbHBlcl9mdW5jLnRzIiwid2VicGFjazovL292ZW5tZGstcnVudGltZS8uL3NyYy9jbGFzc2VzL2NvcmUvTW9kLnRzIiwid2VicGFjazovL292ZW5tZGstcnVudGltZS8uL3NyYy9jbGFzc2VzL2NvcmUvT0Jsb2NrLnRzIiwid2VicGFjazovL292ZW5tZGstcnVudGltZS8uL3NyYy9jbGFzc2VzL2NvcmUvT0l0ZW0udHMiLCJ3ZWJwYWNrOi8vb3Zlbm1kay1ydW50aW1lLy4vc3JjL2NsYXNzZXMvY29yZS9PdmVuLnRzIiwid2VicGFjazovL292ZW5tZGstcnVudGltZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vdmVubWRrLXJ1bnRpbWUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL292ZW5tZGstcnVudGltZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL292ZW5tZGstcnVudGltZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL292ZW5tZGstcnVudGltZS8uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gICAgfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuICAgIEhlbHBlcl9mdW5jLnRzXG4gICAgXG4gICAgQ29weXJpZ2h0IDIwMjUgQmVuZGllR2FtZXMgYW5kIEJsb2NrXzIyMjJcbiAgICBMaWNlbmNlZCB1bmRlciBHTlUgTEdQTC0zLjAtb3ItbGF0ZXJcbiAgICB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+XG5cbiAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiBPdmVuTURLLlxuXG4gICAgT3Zlbk1ESyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5IGl0IHVuZGVyXG4gICAgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlXG4gICAgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IgKGF0IHlvdXIgb3B0aW9uKVxuICAgIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgT3Zlbk1ESyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLCBidXQgV0lUSE9VVCBBTllcbiAgICBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTXG4gICAgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiBTZWUgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFsb25nXG4gICAgd2l0aCBPdmVuIE1ESy4gSWYgbm90LCBzZWUgPGh0dHBzOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJTZXJ2ZXJJdGVtKGl0ZW1JRCwgaXRlbVN0YWNrLCBvblJpZ2h0Q2xpY2spIHtcbiAgICAvKmlmIChpc1NlcnZlciA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJyZWdpc3RlclNlcnZlckl0ZW0gY2FuIG9ubHkgYmUgdXNlZCBvbiB0aGUgc2VydmVyIHNpZGUuXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfSovXG4gICAgdmFyIGNyZWF0aXZlTWlzY1RhYjtcbiAgICBpZiAoIU1vZEFQSS5pc18xXzEyKSB7XG4gICAgICAgIHZhciBjcmVhdGl2ZU1pc2NUYWJfMSA9IE1vZEFQSS5yZWZsZWN0LmdldENsYXNzQnlJZChcIm5ldC5taW5lY3JhZnQuY3JlYXRpdmV0YWIuQ3JlYXRpdmVUYWJzXCIpLnN0YXRpY1ZhcmlhYmxlcy50YWJNaXNjO1xuICAgIH1cbiAgICBpZiAoTW9kQVBJLmlzXzFfMTIpIHtcbiAgICAgICAgdmFyIGNyZWF0aXZlTWlzY1RhYl8yID0gTW9kQVBJLnJlZmxlY3QuZ2V0Q2xhc3NCeUlkKFwibmV0Lm1pbmVjcmFmdC5jcmVhdGl2ZXRhYi5DcmVhdGl2ZVRhYnNcIikuc3RhdGljVmFyaWFibGVzLk1JU0M7XG4gICAgfVxuICAgIHZhciAkJGl0ZW1HZXRBdHRyaWJ1dGVzID0gTW9kQVBJLnJlZmxlY3QuZ2V0Q2xhc3NCeUlkKFwibmV0Lm1pbmVjcmFmdC5pdGVtLkl0ZW1cIikubWV0aG9kcy5nZXRJdGVtQXR0cmlidXRlTW9kaWZpZXJzLm1ldGhvZDtcbiAgICB2YXIgaXRlbUNsYXNzID0gTW9kQVBJLnJlZmxlY3QuZ2V0Q2xhc3NCeUlkKFwibmV0Lm1pbmVjcmFmdC5pdGVtLkl0ZW1cIik7XG4gICAgdmFyIGl0ZW1TdXBlciA9IE1vZEFQSS5yZWZsZWN0LmdldFN1cGVyKGl0ZW1DbGFzcywgZnVuY3Rpb24gKGZuKSB7IHJldHVybiBmbi5sZW5ndGggPT09IDE7IH0pO1xuICAgIC8qaWYgKGlzU2VydmVyID09PSB0cnVlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwidXNpbmcgc2VydmVyIHNpZGUgcmVnaXN0ZXJTZXJ2ZXJJdGVtXCIpO1xuICAgIH0qL1xuICAgIGZ1bmN0aW9uIG5taV9PdmVuSXRlbSgpIHtcbiAgICAgICAgaXRlbVN1cGVyKHRoaXMpO1xuICAgICAgICB0aGlzLiRzZXRDcmVhdGl2ZVRhYihjcmVhdGl2ZU1pc2NUYWIpO1xuICAgICAgICB0aGlzLiRtYXhTdGFja1NpemUgPSAoaXRlbVN0YWNrKTtcbiAgICB9XG4gICAgTW9kQVBJLnJlZmxlY3QucHJvdG90eXBlU3RhY2soaXRlbUNsYXNzLCBubWlfT3Zlbkl0ZW0pO1xuICAgIG5taV9PdmVuSXRlbS5wcm90b3R5cGUuJG9uSXRlbVJpZ2h0Q2xpY2sgPSBmdW5jdGlvbiAoJCRpdGVtc3RhY2ssICQkd29ybGQsICQkcGxheWVyKSB7XG4gICAgICAgICgkJHBsYXllcikuJHNldEl0ZW1JblVzZSgkJGl0ZW1zdGFjaywgMzIpO1xuICAgICAgICB2YXIgJCRpdGVtc3RhY2ssICQkd29ybGQsICQkcGxheWVyO1xuICAgICAgICAvL29uUmlnaHRDbGljaygkJGl0ZW1zdGFjayk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwic2VydmVyIGl0ZW1zdGFjazpcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKCQkaXRlbXN0YWNrKTtcbiAgICAgICAgcmV0dXJuICgkJGl0ZW1zdGFjayk7XG4gICAgfTtcbiAgICBubWlfT3Zlbkl0ZW0ucHJvdG90eXBlLiRvblVwZGF0ZSA9IGZ1bmN0aW9uICgkJGl0ZW1zdGFjaywgJCR3b3JsZCwgJCRwbGF5ZXIsICQkaG90YmFyX3Nsb3QsICQkaXNfaGVsZCkge1xuICAgICAgICAkJGlzX2hlbGQgPSAoJCRpc19oZWxkKSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgcmV0dXJuICgkJGl0ZW1zdGFjayk7XG4gICAgfTtcbiAgICBubWlfT3Zlbkl0ZW0ucHJvdG90eXBlLiRvbkl0ZW1Vc2VGaW5pc2ggPSBmdW5jdGlvbiAoJCRpdGVtc3RhY2ssICQkd29ybGQsICQkcGxheWVyKSB7XG4gICAgICAgIHJldHVybiAoJCRpdGVtc3RhY2spO1xuICAgIH07XG4gICAgbm1pX092ZW5JdGVtLnByb3RvdHlwZS4kZ2V0TWF4SXRlbVVzZUR1cmF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gMzI7XG4gICAgfTtcbiAgICBubWlfT3Zlbkl0ZW0ucHJvdG90eXBlLiRnZXRJdGVtQXR0cmlidXRlTW9kaWZpZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJCRhdHRyaWJ1dGVtYXAgPSAkJGl0ZW1HZXRBdHRyaWJ1dGVzLmFwcGx5KHRoaXMsIFtdKTtcbiAgICAgICAgcmV0dXJuICQkYXR0cmlidXRlbWFwO1xuICAgIH07XG4gICAgbm1pX092ZW5JdGVtLnByb3RvdHlwZS4kZ2V0U3RyVnNCbG9jayA9IGZ1bmN0aW9uICgkJGl0ZW1zdGFjaywgJCRibG9jaykge1xuICAgICAgICByZXR1cm4gMS4wO1xuICAgIH07XG4gICAgbm1pX092ZW5JdGVtLnByb3RvdHlwZS4kb25DcmVhdGVkID0gZnVuY3Rpb24gKCQkaXRlbXN0YWNrLCAkJHdvcmxkLCAkJHBsYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICBubWlfT3Zlbkl0ZW0ucHJvdG90eXBlLiRvbkJsb2NrRGVzdHJveWVkID0gZnVuY3Rpb24gKCQkaXRlbXN0YWNrLCAkJHdvcmxkLCAkJGJsb2NrLCAkJGJsb2NrcG9zLCAkJGVudGl0eSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIHZhciBpbnRlcm5hbF9yZWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpdGVtSW5zdGFuY2UgPSBuZXcgbm1pX092ZW5JdGVtKCkuJHNldFVubG9jYWxpemVkTmFtZShNb2RBUEkudXRpbC5zdHIoXCJcIi5jb25jYXQoaXRlbUlEKSkpO1xuICAgICAgICBpdGVtQ2xhc3Muc3RhdGljTWV0aG9kcy5yZWdpc3Rlckl0ZW0ubWV0aG9kKE1vZEFQSS5rZXlnZW4uaXRlbShcIlwiLmNvbmNhdChpdGVtSUQpKSwgTW9kQVBJLnV0aWwuc3RyKFwiXCIuY29uY2F0KGl0ZW1JRCkpLCBpdGVtSW5zdGFuY2UpO1xuICAgICAgICBNb2RBUEkuaXRlbXNbXCJcIi5jb25jYXQoaXRlbUlEKV0gPSBpdGVtSW5zdGFuY2U7XG4gICAgICAgIGNvbnNvbGUubG9nKGl0ZW1JbnN0YW5jZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVnaXN0ZXJlZCBPdmVuTURLIGl0ZW0gKCBTZXJ2ZXIgU2lkZSApXCIpO1xuICAgICAgICByZXR1cm4gaXRlbUluc3RhbmNlO1xuICAgIH07XG4gICAgaWYgKE1vZEFQSS5pdGVtcykge1xuICAgICAgICByZXR1cm4gaW50ZXJuYWxfcmVnKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBNb2RBUEkuYWRkRXZlbnRMaXN0ZW5lcihcImJvb3RzdHJhcFwiLCBpbnRlcm5hbF9yZWcpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclNlcnZlckJsb2NrKGJsb2NrSUQsIG9uQnJlYWspIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIC8qaWYgKE1vZEFQSS5pc1NlcnZlciA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJyZWdpc3RlclNlcnZlckJsb2NrIGNhbiBvbmx5IGJlIHVzZWQgb24gdGhlIHNlcnZlciBzaWRlLlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH0qL1xuICAgIHZhciBCbG9ja0NsYXNzID0gTW9kQVBJLnJlZmxlY3QuZ2V0Q2xhc3NCeUlkKFwibmV0Lm1pbmVjcmFmdC5ibG9jay5CbG9ja1wiKTtcbiAgICB2YXIgSXRlbUNsYXNzID0gTW9kQVBJLnJlZmxlY3QuZ2V0Q2xhc3NCeUlkKFwibmV0Lm1pbmVjcmFmdC5pdGVtLkl0ZW1cIik7XG4gICAgdmFyIGNyZWF0aXZlVGFiID0gTW9kQVBJLnJlZmxlY3QuZ2V0Q2xhc3NCeUlkKFwibmV0Lm1pbmVjcmFmdC5jcmVhdGl2ZXRhYi5DcmVhdGl2ZVRhYnNcIikuc3RhdGljVmFyaWFibGVzLnRhYkJsb2NrO1xuICAgIHZhciBibG9ja1N1cGVyID0gTW9kQVBJLnJlZmxlY3QuZ2V0U3VwZXIoQmxvY2tDbGFzcywgZnVuY3Rpb24gKGZuKSB7IHJldHVybiBmbi5sZW5ndGggPT09IDI7IH0pO1xuICAgIHZhciBicmVha0Jsb2NrTWV0aG9kID0gQmxvY2tDbGFzcy5tZXRob2RzLmJyZWFrQmxvY2subWV0aG9kO1xuICAgIGZ1bmN0aW9uIEN1c3RvbUJsb2NrKCkge1xuICAgICAgICBibG9ja1N1cGVyKHRoaXMsIE1vZEFQSS5tYXRlcmlhbHMucm9jay5nZXRSZWYoKSk7XG4gICAgICAgIGlmICghTW9kQVBJLmlzXzFfMTIpIHtcbiAgICAgICAgICAgIHRoaXMuJGRlZmF1bHRCbG9ja1N0YXRlID0gdGhpcy4kYmxvY2tTdGF0ZS4kZ2V0QmFzZVN0YXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4kc2V0Q3JlYXRpdmVUYWIoY3JlYXRpdmVUYWIpO1xuICAgIH1cbiAgICBNb2RBUEkucmVmbGVjdC5wcm90b3R5cGVTdGFjayhCbG9ja0NsYXNzLCBDdXN0b21CbG9jayk7XG4gICAgQ3VzdG9tQmxvY2sucHJvdG90eXBlLiRicmVha0Jsb2NrID0gZnVuY3Rpb24gKCR3b3JsZCwgJGJsb2NrcG9zLCAkYmxvY2tzdGF0ZSkge1xuICAgICAgICAvL29uQnJlYWsoJHdvcmxkLCAkYmxvY2twb3MsICRibG9ja3N0YXRlKTtcbiAgICAgICAgcmV0dXJuIGJyZWFrQmxvY2tNZXRob2QodGhpcywgJHdvcmxkLCAkYmxvY2twb3MsICRibG9ja3N0YXRlKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGZpeHVwQmxvY2tJZHMoKSB7XG4gICAgICAgIHZhciBibG9ja1JlZ2lzdHJ5ID0gTW9kQVBJLnV0aWxcbiAgICAgICAgICAgIC53cmFwKE1vZEFQSS5yZWZsZWN0LmdldENsYXNzQnlJZChcIm5ldC5taW5lY3JhZnQuYmxvY2suQmxvY2tcIikuc3RhdGljVmFyaWFibGVzXG4gICAgICAgICAgICAuYmxvY2tSZWdpc3RyeSlcbiAgICAgICAgICAgIC5nZXRDb3JyZWN0aXZlKCk7XG4gICAgICAgIHZhciBCTE9DS19TVEFURV9JRFMgPSBNb2RBUEkudXRpbFxuICAgICAgICAgICAgLndyYXAoTW9kQVBJLnJlZmxlY3QuZ2V0Q2xhc3NCeUlkKFwibmV0Lm1pbmVjcmFmdC5ibG9jay5CbG9ja1wiKS5zdGF0aWNWYXJpYWJsZXNcbiAgICAgICAgICAgIC5CTE9DS19TVEFURV9JRFMpXG4gICAgICAgICAgICAuZ2V0Q29ycmVjdGl2ZSgpO1xuICAgICAgICBibG9ja1JlZ2lzdHJ5LnJlZ2lzdHJ5T2JqZWN0cy5oYXNoVGFibGVLVG9WLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmxvY2tfMSA9IGVudHJ5LnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciB2YWxpZFN0YXRlcyA9IGJsb2NrXzEuZ2V0QmxvY2tTdGF0ZSgpLmdldFZhbGlkU3RhdGVzKCk7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlQXJyYXkgPSB2YWxpZFN0YXRlcy5hcnJheSB8fCBbdmFsaWRTdGF0ZXMuZWxlbWVudF07XG4gICAgICAgICAgICAgICAgc3RhdGVBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChpYmxvY2tzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IChibG9ja1JlZ2lzdHJ5LmdldElERm9yT2JqZWN0KGJsb2NrXzEuZ2V0UmVmKCkpIDw8IDQpIHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrXzEuZ2V0TWV0YUZyb21TdGF0ZShpYmxvY2tzdGF0ZS5nZXRSZWYoKSk7XG4gICAgICAgICAgICAgICAgICAgIEJMT0NLX1NUQVRFX0lEUy5wdXQoaWJsb2Nrc3RhdGUuZ2V0UmVmKCksIGkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdmFyIGludGVybmFsUmVnaXN0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXN0b21fYmxvY2s7XG4gICAgICAgIGlmICghTW9kQVBJLmlzXzFfMTIpIHtcbiAgICAgICAgICAgIHZhciBjdXN0b21fYmxvY2tfMSA9IG5ldyBDdXN0b21CbG9jaygpXG4gICAgICAgICAgICAgICAgLiRzZXRIYXJkbmVzcygzLjApXG4gICAgICAgICAgICAgICAgLiRzZXRTdGVwU291bmQoQmxvY2tDbGFzcy5zdGF0aWNWYXJpYWJsZXMuc291bmRUeXBlUGlzdG9uKVxuICAgICAgICAgICAgICAgIC4kc2V0VW5sb2NhbGl6ZWROYW1lKE1vZEFQSS51dGlsLnN0cihfdGhpcy5ibG9ja0lEKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1vZEFQSS5pc18xXzEyKSB7XG4gICAgICAgICAgICB2YXIgY3VzdG9tX2Jsb2NrXzIgPSBuZXcgQ3VzdG9tQmxvY2soKVxuICAgICAgICAgICAgICAgIC4kc2V0SGFyZG5lc3MoMy4wKVxuICAgICAgICAgICAgICAgIC4kc2V0U291bmRUeXBlKE1vZEFQSS5ibG9ja1NvdW5kcy5QTEFOVC5nZXRSZWYoKSlcbiAgICAgICAgICAgICAgICAuJHNldFVubG9jYWxpemVkTmFtZShNb2RBUEkudXRpbC5zdHIoX3RoaXMuYmxvY2tJRCkpO1xuICAgICAgICB9XG4gICAgICAgIEJsb2NrQ2xhc3Muc3RhdGljTWV0aG9kcy5yZWdpc3RlckJsb2NrMC5tZXRob2QoTW9kQVBJLmtleWdlbi5ibG9jayhibG9ja0lEKSwgTW9kQVBJLnV0aWwuc3RyKGJsb2NrSUQpLCBjdXN0b21fYmxvY2spO1xuICAgICAgICBJdGVtQ2xhc3Muc3RhdGljTWV0aG9kcy5yZWdpc3Rlckl0ZW1CbG9jazAubWV0aG9kKGN1c3RvbV9ibG9jayk7XG4gICAgICAgIGZpeHVwQmxvY2tJZHMoKTtcbiAgICAgICAgTW9kQVBJLmJsb2Nrc1tibG9ja0lEXSA9IGN1c3RvbV9ibG9jaztcbiAgICAgICAgY29uc29sZS5sb2coXCJSZWdpc3RlcmluZyBibG9jayBvbiBzZXJ2ZXIgc2lkZVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coY3VzdG9tX2Jsb2NrKTtcbiAgICAgICAgcmV0dXJuIGN1c3RvbV9ibG9jaztcbiAgICB9O1xuICAgIGlmIChNb2RBUEkubWF0ZXJpYWxzKSB7XG4gICAgICAgIHJldHVybiBpbnRlcm5hbFJlZ2lzdGVyKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBNb2RBUEkuYWRkRXZlbnRMaXN0ZW5lcihcImJvb3RzdHJhcFwiLCBpbnRlcm5hbFJlZ2lzdGVyKTtcbiAgICB9XG59XG4vKmV4cG9ydCBmdW5jdGlvbiBpc1NlcnZlclNpZGUoKSB7XG4gICAgZnVuY3Rpb24gc3ViZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiaXNTZXJ2ZXJTaWRlIGZ1bmN0aW9uIGNhbGxlZFwiKTtcbiAgICAgICAgY29uc29sZS5sb2coYGlzU2VydmVyU2lkZTogJHtNb2RBUEkuaXNTZXJ2ZXJ9YCk7XG4gICAgICAgIGNvbnNvbGUubG9nKE1vZEFQSS5pc1NlcnZlcik7XG4gICAgfVxuICAgIHN1YmZ1bmN0aW9uKCk7XG4gICAgY29uc29sZS5sb2coYGlzU2VydmVyU2lkZTogJHtNb2RBUEkuaXNTZXJ2ZXJ9YCk7XG59Ki8gXG4iLCIvKlxuICAgIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5cbiAgICBNb2QudHNcbiAgICBcbiAgICBDb3B5cmlnaHQgMjAyNSBCZW5kaWVHYW1lcyBhbmQgQmxvY2tfMjIyMlxuICAgIExpY2VuY2VkIHVuZGVyIEdOVSBMR1BMLTMuMC1vci1sYXRlclxuICAgIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5cblxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIE92ZW5NREsuXG5cbiAgICBPdmVuTURLIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQgdW5kZXJcbiAgICB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkgdGhlIEZyZWVcbiAgICBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvciAoYXQgeW91ciBvcHRpb24pXG4gICAgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBPdmVuTURLIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsIGJ1dCBXSVRIT1VUIEFOWVxuICAgIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1NcbiAgICBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuIFNlZSB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYWxvbmdcbiAgICB3aXRoIE92ZW4gTURLLiBJZiBub3QsIHNlZSA8aHR0cHM6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbmltcG9ydCBkZWZhdWx0SWNvbiBmcm9tIFwiQVNTRVRTL2RlZmF1bHRJY29uLnBuZ1wiO1xudmFyIE9Nb2QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT01vZCgpIHtcbiAgICB9XG4gICAgT01vZC5jb25maWcgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgT01vZC5pbml0ID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIE9Nb2QucG9zdEluaXQgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgT01vZC5kaXNwbGF5Q2hhdE1lc3NhZ2UgPSBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIE1vZEFQSS5kaXNwbGF5VG9DaGF0KG1zZyk7XG4gICAgfTtcbiAgICBPTW9kLnRpdGxlID0gXCJEZWZhdWx0IE5hbWVcIjtcbiAgICBPTW9kLnZlcnNpb24gPSBcIlwiO1xuICAgIE9Nb2QuZGVzY3JpcHRpb24gPSBcIkRlZmF1bHQgT3Zlbk1ESyBEZXNjcmlwdGlvbi4gU2V0ICdkZXNjcmlwdGlvbicgaW4geW91ciBPTW9kIGNsYXNzIVwiO1xuICAgIE9Nb2QuY3JlZGl0cyA9IFwiTm9uZSBHaXZlblwiO1xuICAgIE9Nb2QuaWNvbiA9IGRlZmF1bHRJY29uO1xuICAgIE9Nb2QuYWNjZXB0ZWRNaW5lY3JhZnRWZXJzaW9ucyA9IG51bGw7XG4gICAgT01vZC5hY2NlcHRlZEVhZ2xlclVwZGF0ZXMgPSBudWxsO1xuICAgIE9Nb2QuYWNjZXB0ZWRFRlZlcnNpb25zID0gbnVsbDtcbiAgICBPTW9kLmFjY2VwdGVkRUZGbGF2b3VyID0gXCJpbmplY3RvclwiO1xuICAgIE9Nb2QuY2xpZW50U2lkZU9ubHkgPSBmYWxzZTtcbiAgICBPTW9kLnNlcnZlclNpZGVPbmx5ID0gZmFsc2U7XG4gICAgT01vZC5vbmx5XzFfMTJfMiA9IGZhbHNlO1xuICAgIE9Nb2QuRGVidWdfbW9kZSA9IGZhbHNlO1xuICAgIHJldHVybiBPTW9kO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IE9Nb2Q7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZyA9IE9iamVjdC5jcmVhdGUoKHR5cGVvZiBJdGVyYXRvciA9PT0gXCJmdW5jdGlvblwiID8gSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIGcubmV4dCA9IHZlcmIoMCksIGdbXCJ0aHJvd1wiXSA9IHZlcmIoMSksIGdbXCJyZXR1cm5cIl0gPSB2ZXJiKDIpLCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xuLypcbiAgfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuICBPQmxvY2sudHNcbiAgICBcbiAgQ29weXJpZ2h0IDIwMjUgQmVuZGllR2FtZXMgYW5kIEJsb2NrXzIyMjJcbiAgICBMaWNlbmNlZCB1bmRlciBHTlUgTEdQTC0zLjAtb3ItbGF0ZXJcbiAgfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2YgT3Zlbk1ESy5cblxuICAgIE92ZW5NREsgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeSBpdCB1bmRlclxuICAgIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZVxuICAgIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbilcbiAgICBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIE92ZW5NREsgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwgYnV0IFdJVEhPVVQgQU5ZXG4gICAgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTU1xuICAgIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gU2VlIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhbG9uZ1xuICAgIHdpdGggT3ZlbiBNREsuIElmIG5vdCwgc2VlIDxodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xudmFyIE9CbG9jayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPQmxvY2soYmxvY2tOYW1lLCBibG9ja0lELCB0ZXh0dXJlLCBvbkJyZWFrKSB7XG4gICAgICAgIHRoaXMuYmxvY2tOYW1lID0gYmxvY2tOYW1lO1xuICAgICAgICB0aGlzLmJsb2NrSUQgPSBibG9ja0lEO1xuICAgICAgICB0aGlzLmJsb2NrVGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHRoaXMub25CcmVhayA9IG9uQnJlYWs7XG4gICAgfVxuICAgIE9CbG9jay5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBCbG9ja0NsYXNzID0gTW9kQVBJLnJlZmxlY3QuZ2V0Q2xhc3NCeUlkKFwibmV0Lm1pbmVjcmFmdC5ibG9jay5CbG9ja1wiKTtcbiAgICAgICAgdmFyIEl0ZW1DbGFzcyA9IE1vZEFQSS5yZWZsZWN0LmdldENsYXNzQnlJZChcIm5ldC5taW5lY3JhZnQuaXRlbS5JdGVtXCIpO1xuICAgICAgICB2YXIgY3JlYXRpdmVUYWIgPSBNb2RBUEkucmVmbGVjdC5nZXRDbGFzc0J5SWQoXCJuZXQubWluZWNyYWZ0LmNyZWF0aXZldGFiLkNyZWF0aXZlVGFic1wiKS5zdGF0aWNWYXJpYWJsZXMudGFiQmxvY2s7XG4gICAgICAgIHZhciBibG9ja1N1cGVyID0gTW9kQVBJLnJlZmxlY3QuZ2V0U3VwZXIoQmxvY2tDbGFzcywgZnVuY3Rpb24gKGZuKSB7IHJldHVybiBmbi5sZW5ndGggPT09IDI7IH0pO1xuICAgICAgICB2YXIgYnJlYWtCbG9ja01ldGhvZCA9IEJsb2NrQ2xhc3MubWV0aG9kcy5icmVha0Jsb2NrLm1ldGhvZDtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBmdW5jdGlvbiBDdXN0b21CbG9jaygpIHtcbiAgICAgICAgICAgIGJsb2NrU3VwZXIodGhpcywgTW9kQVBJLm1hdGVyaWFscy5yb2NrLmdldFJlZigpKTtcbiAgICAgICAgICAgIGlmICghTW9kQVBJLmlzXzFfMTIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRkZWZhdWx0QmxvY2tTdGF0ZSA9IHRoaXMuJGJsb2NrU3RhdGUuJGdldEJhc2VTdGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy4kc2V0Q3JlYXRpdmVUYWIoY3JlYXRpdmVUYWIpO1xuICAgICAgICB9XG4gICAgICAgIE1vZEFQSS5yZWZsZWN0LnByb3RvdHlwZVN0YWNrKEJsb2NrQ2xhc3MsIEN1c3RvbUJsb2NrKTtcbiAgICAgICAgQ3VzdG9tQmxvY2sucHJvdG90eXBlLiRicmVha0Jsb2NrID0gZnVuY3Rpb24gKCR3b3JsZCwgJGJsb2NrcG9zLCAkYmxvY2tzdGF0ZSkge1xuICAgICAgICAgICAgc2VsZi5vbkJyZWFrKCR3b3JsZCwgJGJsb2NrcG9zLCAkYmxvY2tzdGF0ZSk7XG4gICAgICAgICAgICByZXR1cm4gYnJlYWtCbG9ja01ldGhvZCh0aGlzLCAkd29ybGQsICRibG9ja3BvcywgJGJsb2Nrc3RhdGUpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgaW50ZXJuYWxSZWdpc3RlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjdXN0b21fYmxvY2s7XG4gICAgICAgICAgICBpZiAoIU1vZEFQSS5pc18xXzEyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1c3RvbV9ibG9ja18xID0gbmV3IEN1c3RvbUJsb2NrKClcbiAgICAgICAgICAgICAgICAgICAgLiRzZXRIYXJkbmVzcygzLjApXG4gICAgICAgICAgICAgICAgICAgIC4kc2V0U3RlcFNvdW5kKEJsb2NrQ2xhc3Muc3RhdGljVmFyaWFibGVzLnNvdW5kVHlwZVBpc3RvbilcbiAgICAgICAgICAgICAgICAgICAgLiRzZXRVbmxvY2FsaXplZE5hbWUoTW9kQVBJLnV0aWwuc3RyKF90aGlzLmJsb2NrSUQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChNb2RBUEkuaXNfMV8xMikge1xuICAgICAgICAgICAgICAgIHZhciBjdXN0b21fYmxvY2tfMiA9IG5ldyBDdXN0b21CbG9jaygpXG4gICAgICAgICAgICAgICAgICAgIC4kc2V0SGFyZG5lc3MoMy4wKVxuICAgICAgICAgICAgICAgICAgICAuJHNldFNvdW5kVHlwZShNb2RBUEkuYmxvY2tTb3VuZHMuUExBTlQuZ2V0UmVmKCkpXG4gICAgICAgICAgICAgICAgICAgIC4kc2V0VW5sb2NhbGl6ZWROYW1lKE1vZEFQSS51dGlsLnN0cihfdGhpcy5ibG9ja0lEKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBCbG9ja0NsYXNzLnN0YXRpY01ldGhvZHMucmVnaXN0ZXJCbG9jazAubWV0aG9kKE1vZEFQSS5rZXlnZW4uYmxvY2soX3RoaXMuYmxvY2tJRCksIE1vZEFQSS51dGlsLnN0cihfdGhpcy5ibG9ja0lEKSwgY3VzdG9tX2Jsb2NrKTtcbiAgICAgICAgICAgIEl0ZW1DbGFzcy5zdGF0aWNNZXRob2RzLnJlZ2lzdGVySXRlbUJsb2NrMC5tZXRob2QoY3VzdG9tX2Jsb2NrKTtcbiAgICAgICAgICAgIF90aGlzLmZpeHVwQmxvY2tJZHMoKTtcbiAgICAgICAgICAgIE1vZEFQSS5ibG9ja3NbX3RoaXMuYmxvY2tJRF0gPSBjdXN0b21fYmxvY2s7XG4gICAgICAgICAgICBfdGhpcy5ibG9ja0luc3RhbmNlID0gY3VzdG9tX2Jsb2NrO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSZWdpc3RlcmVkIGJsb2NrIG9uIGNsaWVudDogXCIgKyBfdGhpcy5ibG9ja0lEKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGN1c3RvbV9ibG9jayk7XG4gICAgICAgICAgICByZXR1cm4gY3VzdG9tX2Jsb2NrO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoTW9kQVBJLm1hdGVyaWFscykge1xuICAgICAgICAgICAgcmV0dXJuIGludGVybmFsUmVnaXN0ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE1vZEFQSS5hZGRFdmVudExpc3RlbmVyKFwiYm9vdHN0cmFwXCIsIGludGVybmFsUmVnaXN0ZXIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPQmxvY2sucHJvdG90eXBlLmZpeHVwQmxvY2tJZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBibG9ja1JlZ2lzdHJ5ID0gTW9kQVBJLnV0aWxcbiAgICAgICAgICAgIC53cmFwKE1vZEFQSS5yZWZsZWN0LmdldENsYXNzQnlJZChcIm5ldC5taW5lY3JhZnQuYmxvY2suQmxvY2tcIikuc3RhdGljVmFyaWFibGVzXG4gICAgICAgICAgICAuYmxvY2tSZWdpc3RyeSlcbiAgICAgICAgICAgIC5nZXRDb3JyZWN0aXZlKCk7XG4gICAgICAgIHZhciBCTE9DS19TVEFURV9JRFMgPSBNb2RBUEkudXRpbFxuICAgICAgICAgICAgLndyYXAoTW9kQVBJLnJlZmxlY3QuZ2V0Q2xhc3NCeUlkKFwibmV0Lm1pbmVjcmFmdC5ibG9jay5CbG9ja1wiKS5zdGF0aWNWYXJpYWJsZXNcbiAgICAgICAgICAgIC5CTE9DS19TVEFURV9JRFMpXG4gICAgICAgICAgICAuZ2V0Q29ycmVjdGl2ZSgpO1xuICAgICAgICBibG9ja1JlZ2lzdHJ5LnJlZ2lzdHJ5T2JqZWN0cy5oYXNoVGFibGVLVG9WLmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmxvY2tfMSA9IGVudHJ5LnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciB2YWxpZFN0YXRlcyA9IGJsb2NrXzEuZ2V0QmxvY2tTdGF0ZSgpLmdldFZhbGlkU3RhdGVzKCk7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlQXJyYXkgPSB2YWxpZFN0YXRlcy5hcnJheSB8fCBbdmFsaWRTdGF0ZXMuZWxlbWVudF07XG4gICAgICAgICAgICAgICAgc3RhdGVBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChpYmxvY2tzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IChibG9ja1JlZ2lzdHJ5LmdldElERm9yT2JqZWN0KGJsb2NrXzEuZ2V0UmVmKCkpIDw8IDQpIHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrXzEuZ2V0TWV0YUZyb21TdGF0ZShpYmxvY2tzdGF0ZS5nZXRSZWYoKSk7XG4gICAgICAgICAgICAgICAgICAgIEJMT0NLX1NUQVRFX0lEUy5wdXQoaWJsb2Nrc3RhdGUuZ2V0UmVmKCksIGkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9CbG9jay5wcm90b3R5cGUucmVnaXN0ZXJCbG9jayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGN1c3RvbV9ibG9jaywgc2VsZjtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgY3VzdG9tX2Jsb2NrID0gbmV3IE9CbG9jayh0aGlzLmJsb2NrTmFtZSwgdGhpcy5ibG9ja0lELCB0aGlzLmJsb2NrVGV4dHVyZSwgdGhpcy5vbkJyZWFrKS5yZWdpc3RlcigpO1xuICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgICAgIE1vZEFQSS5kZWRpY2F0ZWRTZXJ2ZXIuYXBwZW5kQ29kZShcImdsb2JhbFRoaXMucmVnaXN0ZXJTZXJ2ZXJCbG9jayhcXFwiXCIuY29uY2F0KHRoaXMuYmxvY2tJRCwgXCJcXFwiLCBcIikuY29uY2F0KHRoaXMub25CcmVhaywgXCIpO1wiKSk7XG4gICAgICAgICAgICAgICAgTW9kQVBJLmFkZEV2ZW50TGlzdGVuZXIoXCJsaWI6YXN5bmNzaW5rXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlLCBidWZmZXI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1vZEFQSS5hZGRFdmVudExpc3RlbmVyKFwibGliOmFzeW5jc2luazpyZWdpc3Rlcml0ZW1zXCIsIGZ1bmN0aW9uIChyZW5kZXJJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJJdGVtLnJlZ2lzdGVyQmxvY2soY3VzdG9tX2Jsb2NrLCBNb2RBUEkudXRpbC5zdHIoc2VsZi5ibG9ja0lEKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBc3luY1NpbmsuTDEwTi5zZXQoXCJ0aWxlLlwiLmNvbmNhdChzZWxmLmJsb2NrSUQsIFwiLm5hbWVcIiksIHNlbGYuYmxvY2tOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTZXQgbG9jYWxpemF0aW9uIGZvciBibG9jayBcIi5jb25jYXQoc2VsZi5ibG9ja0lEKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzeW5jU2luay5zZXRGaWxlKFwicmVzb3VyY2VwYWNrcy9Bc3luY1NpbmtMaWIvYXNzZXRzL21pbmVjcmFmdC9tb2RlbHMvYmxvY2svXCIuY29uY2F0KHNlbGYuYmxvY2tJRCwgXCIuanNvblwiKSwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBcImJsb2NrL2N1YmVfYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbDogXCJibG9ja3MvXCIuY29uY2F0KHNlbGYuYmxvY2tJRCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzeW5jU2luay5zZXRGaWxlKFwicmVzb3VyY2VwYWNrcy9Bc3luY1NpbmtMaWIvYXNzZXRzL21pbmVjcmFmdC9tb2RlbHMvaXRlbS9cIi5jb25jYXQoc2VsZi5ibG9ja0lELCBcIi5qc29uXCIpLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IFwiYmxvY2svXCIuY29uY2F0KHNlbGYuYmxvY2tJRCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcmRwZXJzb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IFsxMCwgLTQ1LCAxNzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbjogWzAsIDEuNSwgLTIuNzVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogWzAuMzc1LCAwLjM3NSwgMC4zNzVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzeW5jU2luay5zZXRGaWxlKFwicmVzb3VyY2VwYWNrcy9Bc3luY1NpbmtMaWIvYXNzZXRzL21pbmVjcmFmdC9ibG9ja3N0YXRlcy9cIi5jb25jYXQoc2VsZi5ibG9ja0lELCBcIi5qc29uXCIpLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbDogc2VsZi5ibG9ja0lELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKHNlbGYuYmxvY2tUZXh0dXJlKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzeW5jU2luay5zZXRGaWxlKFwicmVzb3VyY2VwYWNrcy9Bc3luY1NpbmtMaWIvYXNzZXRzL21pbmVjcmFmdC90ZXh0dXJlcy9ibG9ja3MvXCIuY29uY2F0KHNlbGYuYmxvY2tJRCwgXCIucG5nXCIpLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pOyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gT0Jsb2NrO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IE9CbG9jaztcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xudmFyIF9fZ2VuZXJhdG9yID0gKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnID0gT2JqZWN0LmNyZWF0ZSgodHlwZW9mIEl0ZXJhdG9yID09PSBcImZ1bmN0aW9uXCIgPyBJdGVyYXRvciA6IE9iamVjdCkucHJvdG90eXBlKTtcbiAgICByZXR1cm4gZy5uZXh0ID0gdmVyYigwKSwgZ1tcInRocm93XCJdID0gdmVyYigxKSwgZ1tcInJldHVyblwiXSA9IHZlcmIoMiksIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn07XG4vKlxuICAgIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5cbiAgICBPSXRlbS50c1xuICAgIFxuICAgIENvcHlyaWdodCAyMDI1IEJlbmRpZUdhbWVzIGFuZCBCbG9ja18yMjIyXG4gICAgTGljZW5jZWQgdW5kZXIgR05VIExHUEwtMy4wLW9yLWxhdGVyXG4gICAgfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2YgT3Zlbk1ESy5cblxuICAgIE92ZW5NREsgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeSBpdCB1bmRlclxuICAgIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZVxuICAgIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbilcbiAgICBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIE92ZW5NREsgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwgYnV0IFdJVEhPVVQgQU5ZXG4gICAgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTU1xuICAgIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gU2VlIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhbG9uZ1xuICAgIHdpdGggT3ZlbiBNREsuIElmIG5vdCwgc2VlIDxodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xudmFyIE9JdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9JdGVtKGl0ZW1OYW1lLCBpdGVtSUQsIGl0ZW1TdGFjaywgdGV4dHVyZSwgb25SaWdodENsaWNrKSB7XG4gICAgICAgIHRoaXMuaXRlbU5hbWUgPSBpdGVtTmFtZTtcbiAgICAgICAgdGhpcy5pdGVtSUQgPSBpdGVtSUQ7XG4gICAgICAgIHRoaXMuaXRlbVN0YWNrID0gaXRlbVN0YWNrO1xuICAgICAgICB0aGlzLml0ZW1UZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgdGhpcy5vblJpZ2h0Q2xpY2sgPSBvblJpZ2h0Q2xpY2s7XG4gICAgfVxuICAgIE9JdGVtLnByb3RvdHlwZS5yZWdpc3RlckNsaWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyICQkaXRlbUdldEF0dHJpYnV0ZXMgPSBNb2RBUEkucmVmbGVjdC5nZXRDbGFzc0J5SWQoXCJuZXQubWluZWNyYWZ0Lml0ZW0uSXRlbVwiKS5tZXRob2RzLmdldEl0ZW1BdHRyaWJ1dGVNb2RpZmllcnMubWV0aG9kO1xuICAgICAgICB2YXIgY3JlYXRpdmVNaXNjVGFiO1xuICAgICAgICBpZiAoIU1vZEFQSS5pc18xXzEyKSB7XG4gICAgICAgICAgICB2YXIgY3JlYXRpdmVNaXNjVGFiXzEgPSBNb2RBUEkucmVmbGVjdC5nZXRDbGFzc0J5SWQoXCJuZXQubWluZWNyYWZ0LmNyZWF0aXZldGFiLkNyZWF0aXZlVGFic1wiKS5zdGF0aWNWYXJpYWJsZXMudGFiTWlzYztcbiAgICAgICAgfVxuICAgICAgICBpZiAoTW9kQVBJLmlzXzFfMTIpIHtcbiAgICAgICAgICAgIHZhciBjcmVhdGl2ZU1pc2NUYWJfMiA9IE1vZEFQSS5yZWZsZWN0LmdldENsYXNzQnlJZChcIm5ldC5taW5lY3JhZnQuY3JlYXRpdmV0YWIuQ3JlYXRpdmVUYWJzXCIpLnN0YXRpY1ZhcmlhYmxlcy5NSVNDO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpdGVtQ2xhc3MgPSBNb2RBUEkucmVmbGVjdC5nZXRDbGFzc0J5SWQoXCJuZXQubWluZWNyYWZ0Lml0ZW0uSXRlbVwiKTtcbiAgICAgICAgdmFyIGl0ZW1TdXBlciA9IE1vZEFQSS5yZWZsZWN0LmdldFN1cGVyKGl0ZW1DbGFzcywgZnVuY3Rpb24gKGZuKSB7IHJldHVybiBmbi5sZW5ndGggPT09IDE7IH0pO1xuICAgICAgICB2YXIgaXRlbVN0YWNrID0gdGhpcy5pdGVtU3RhY2s7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgZnVuY3Rpb24gbm1pX092ZW5JdGVtKCkge1xuICAgICAgICAgICAgaXRlbVN1cGVyKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy4kc2V0Q3JlYXRpdmVUYWIoY3JlYXRpdmVNaXNjVGFiKTtcbiAgICAgICAgICAgIHRoaXMuJG1heFN0YWNrU2l6ZSA9IChpdGVtU3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIE1vZEFQSS5yZWZsZWN0LnByb3RvdHlwZVN0YWNrKGl0ZW1DbGFzcywgbm1pX092ZW5JdGVtKTtcbiAgICAgICAgbm1pX092ZW5JdGVtLnByb3RvdHlwZS4kb25JdGVtUmlnaHRDbGljayA9IGZ1bmN0aW9uICgkJGl0ZW1zdGFjaywgJCR3b3JsZCwgJCRwbGF5ZXIpIHtcbiAgICAgICAgICAgIHNlbGYub25SaWdodENsaWNrKCQkaXRlbXN0YWNrKTtcbiAgICAgICAgICAgICgkJHBsYXllcikuJHNldEl0ZW1JblVzZSgkJGl0ZW1zdGFjaywgMzIpO1xuICAgICAgICAgICAgdmFyICQkaXRlbXN0YWNrLCAkJHdvcmxkLCAkJHBsYXllcjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2xpZW50IGl0ZW1zdGFjazpcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygkJGl0ZW1zdGFjayk7XG4gICAgICAgICAgICByZXR1cm4gKCQkaXRlbXN0YWNrKTtcbiAgICAgICAgfTtcbiAgICAgICAgbm1pX092ZW5JdGVtLnByb3RvdHlwZS4kb25VcGRhdGUgPSBmdW5jdGlvbiAoJCRpdGVtc3RhY2ssICQkd29ybGQsICQkcGxheWVyLCAkJGhvdGJhcl9zbG90LCAkJGlzX2hlbGQpIHtcbiAgICAgICAgICAgICQkaXNfaGVsZCA9ICgkJGlzX2hlbGQpID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuICgkJGl0ZW1zdGFjayk7XG4gICAgICAgIH07XG4gICAgICAgIG5taV9PdmVuSXRlbS5wcm90b3R5cGUuJG9uSXRlbVVzZUZpbmlzaCA9IGZ1bmN0aW9uICgkJGl0ZW1zdGFjaywgJCR3b3JsZCwgJCRwbGF5ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAoJCRpdGVtc3RhY2spO1xuICAgICAgICB9O1xuICAgICAgICBubWlfT3Zlbkl0ZW0ucHJvdG90eXBlLiRnZXRNYXhJdGVtVXNlRHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gMzI7XG4gICAgICAgIH07XG4gICAgICAgIG5taV9PdmVuSXRlbS5wcm90b3R5cGUuJGdldEl0ZW1BdHRyaWJ1dGVNb2RpZmllcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgJCRhdHRyaWJ1dGVtYXAgPSAkJGl0ZW1HZXRBdHRyaWJ1dGVzLmFwcGx5KHRoaXMsIFtdKTtcbiAgICAgICAgICAgIHJldHVybiAkJGF0dHJpYnV0ZW1hcDtcbiAgICAgICAgfTtcbiAgICAgICAgbm1pX092ZW5JdGVtLnByb3RvdHlwZS4kZ2V0U3RyVnNCbG9jayA9IGZ1bmN0aW9uICgkJGl0ZW1zdGFjaywgJCRibG9jaykge1xuICAgICAgICAgICAgcmV0dXJuIDEuMDtcbiAgICAgICAgfTtcbiAgICAgICAgbm1pX092ZW5JdGVtLnByb3RvdHlwZS4kb25DcmVhdGVkID0gZnVuY3Rpb24gKCQkaXRlbXN0YWNrLCAkJHdvcmxkLCAkJHBsYXllcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9O1xuICAgICAgICBubWlfT3Zlbkl0ZW0ucHJvdG90eXBlLiRvbkJsb2NrRGVzdHJveWVkID0gZnVuY3Rpb24gKCQkaXRlbXN0YWNrLCAkJHdvcmxkLCAkJGJsb2NrLCAkJGJsb2NrcG9zLCAkJGVudGl0eSkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBpbnRlcm5hbF9yZWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaXRlbUluc3RhbmNlID0gbmV3IG5taV9PdmVuSXRlbSgpLiRzZXRVbmxvY2FsaXplZE5hbWUoTW9kQVBJLnV0aWwuc3RyKF90aGlzLml0ZW1JRCkpO1xuICAgICAgICAgICAgaXRlbUNsYXNzLnN0YXRpY01ldGhvZHMucmVnaXN0ZXJJdGVtLm1ldGhvZChNb2RBUEkua2V5Z2VuLml0ZW0oX3RoaXMuaXRlbUlEKSwgTW9kQVBJLnV0aWwuc3RyKF90aGlzLml0ZW1JRCksIGl0ZW1JbnN0YW5jZSk7XG4gICAgICAgICAgICBNb2RBUEkuaXRlbXNbXCJcIi5jb25jYXQoc2VsZi5pdGVtSUQpXSA9IGl0ZW1JbnN0YW5jZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW1JbnN0YW5jZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlZ2lzdGVyZWQgT3Zlbk1ESyBpdGVtICggY2xpZW50IHNpZGUgKVwiKTtcbiAgICAgICAgICAgIHJldHVybiBpdGVtSW5zdGFuY2U7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChNb2RBUEkuaXRlbXMpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnRlcm5hbF9yZWcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE1vZEFQSS5hZGRFdmVudExpc3RlbmVyKFwiYm9vdHN0cmFwXCIsIGludGVybmFsX3JlZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9JdGVtLnByb3RvdHlwZS5yZWdpc3Rlckl0ZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZWxmLCBjdXN0b21faXRlbTtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgY3VzdG9tX2l0ZW0gPSBuZXcgT0l0ZW0odGhpcy5pdGVtTmFtZSwgdGhpcy5pdGVtSUQsIHRoaXMuaXRlbVN0YWNrLCB0aGlzLml0ZW1UZXh0dXJlLCB0aGlzLm9uUmlnaHRDbGljaykucmVnaXN0ZXJDbGllbnQoKTtcbiAgICAgICAgICAgICAgICBNb2RBUEkuZGVkaWNhdGVkU2VydmVyLmFwcGVuZENvZGUoXCJnbG9iYWxUaGlzLnJlZ2lzdGVyU2VydmVySXRlbShcXFwiXCIuY29uY2F0KHRoaXMuaXRlbUlELCBcIlxcXCIsIFwiKS5jb25jYXQodGhpcy5pdGVtU3RhY2ssIFwiLCBcIikuY29uY2F0KHRoaXMub25SaWdodENsaWNrLCBcIik7XCIpKTtcbiAgICAgICAgICAgICAgICBNb2RBUEkuYWRkRXZlbnRMaXN0ZW5lcihcImxpYjphc3luY3NpbmtcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UsIGJ1ZmZlcjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTW9kQVBJLmFkZEV2ZW50TGlzdGVuZXIoXCJsaWI6YXN5bmNzaW5rOnJlZ2lzdGVyaXRlbXNcIiwgZnVuY3Rpb24gKHJlbmRlckl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckl0ZW0ucmVnaXN0ZXJJdGVtKGN1c3RvbV9pdGVtLCBNb2RBUEkudXRpbC5zdHIoc2VsZi5pdGVtSUQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFzeW5jU2luay5MMTBOLnNldChcIml0ZW0uXCIuY29uY2F0KHNlbGYuaXRlbUlELCBcIi5uYW1lXCIpLCBzZWxmLml0ZW1OYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXN5bmNTaW5rLnNldEZpbGUoXCJyZXNvdXJjZXBhY2tzL0FzeW5jU2lua0xpYi9hc3NldHMvbWluZWNyYWZ0L21vZGVscy9pdGVtL1wiLmNvbmNhdChzZWxmLml0ZW1JRCwgXCIuanNvblwiKSwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBcImJ1aWx0aW4vZ2VuZXJhdGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyMDogXCJpdGVtcy9cIi5jb25jYXQoc2VsZi5pdGVtSUQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlyZHBlcnNvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogWy05MCwgMCwgMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uOiBbMCwgMSwgLTNdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogWzAuNTUsIDAuNTUsIDAuNTVdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RwZXJzb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IFswLCAtMTM1LCAyNV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uOiBbMCwgNCwgMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiBbMS43LCAxLjcsIDEuN10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2goc2VsZi5pdGVtVGV4dHVyZSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlc3BvbnNlLmFycmF5QnVmZmVyKCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBc3luY1Npbmsuc2V0RmlsZShcInJlc291cmNlcGFja3MvQXN5bmNTaW5rTGliL2Fzc2V0cy9taW5lY3JhZnQvdGV4dHVyZXMvaXRlbXMvXCIuY29uY2F0KHNlbGYuaXRlbUlELCBcIi5wbmdcIiksIGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBPSXRlbTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBPSXRlbTtcbiIsIi8qXG4gICAgfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuICAgIE92ZW4udHNcbiAgICBcbiAgICBDb3B5cmlnaHQgMjAyNSBCZW5kaWVHYW1lcyBhbmQgQmxvY2tfMjIyMlxuICAgIExpY2VuY2VkIHVuZGVyIEdOVSBMR1BMLTMuMC1vci1sYXRlclxuICAgIH5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5cblxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIE92ZW5NREsuXG5cbiAgICBPdmVuTURLIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQgdW5kZXJcbiAgICB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkgdGhlIEZyZWVcbiAgICBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvciAoYXQgeW91ciBvcHRpb24pXG4gICAgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICBPdmVuTURLIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsIGJ1dCBXSVRIT1VUIEFOWVxuICAgIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1NcbiAgICBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuIFNlZSB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYWxvbmdcbiAgICB3aXRoIE92ZW4gTURLLiBJZiBub3QsIHNlZSA8aHR0cHM6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbnZhciBPdmVuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE92ZW4oKSB7XG4gICAgfVxuICAgIE92ZW4ucmVnaXN0ZXJNb2QgPSBmdW5jdGlvbiAobW9kQ2xhc3MpIHtcbiAgICAgICAgTW9kQVBJLm1ldGEudGl0bGUobW9kQ2xhc3MudGl0bGUpO1xuICAgICAgICBNb2RBUEkubWV0YS52ZXJzaW9uKG1vZENsYXNzLnZlcnNpb24pO1xuICAgICAgICBNb2RBUEkubWV0YS5kZXNjcmlwdGlvbihtb2RDbGFzcy5kZXNjcmlwdGlvbik7XG4gICAgICAgIE1vZEFQSS5tZXRhLmNyZWRpdHMobW9kQ2xhc3MuY3JlZGl0cyk7XG4gICAgICAgIE1vZEFQSS5tZXRhLmljb24obW9kQ2xhc3MuaWNvbik7XG4gICAgICAgIE1vZEFQSS5tZXRhLmNvbmZpZyhtb2RDbGFzcy5jb25maWcoKSk7XG4gICAgICAgIG1vZENsYXNzLmluaXQoKTtcbiAgICAgICAgZ2xvYmFsVGhpcy5EZWJ1Z19tb2RlID0gbW9kQ2xhc3MuRGVidWdfbW9kZTtcbiAgICAgICAgLyppZiAobW9kQ2xhc3Mub25seV8xXzEyXzIgPT09IHRydWUpIHtcbiAgICAgICAgICAvLyBJbGwgZG8gc29tZSBtb3JlIHN0dWZmIGxhdGVyXG4gICAgICAgIH0qL1xuICAgICAgICB0aGlzLm1vZHMucHVzaChtb2RDbGFzcyk7XG4gICAgfTtcbiAgICBPdmVuLm1vZHMgPSBbXTtcbiAgICByZXR1cm4gT3Zlbjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBPdmVuO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvKlxuICB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+XG4gIE92ZW4gTW9kIERldmVsb3BtZW50IEtpdCAoT3Zlbk1ESykgUnVudGltZVxuICBEZXYga2l0IHVzZWQgZm9yIHNpbXBsaWZ5aW5nIEVhZ2xlckZvcmdlIG1vZCBkZXZlbG9wbWVudC5cbiAgICBcbiAgQ29weXJpZ2h0IDIwMjUgQmVuZGllR2FtZXMgYW5kIEJsb2NrXzIyMjJcbiAgICBMaWNlbmNlZCB1bmRlciBHTlUgTEdQTC0zLjAtb3ItbGF0ZXJcbiAgfn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2YgT3Zlbk1ESy5cblxuICAgIE92ZW5NREsgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeSBpdCB1bmRlclxuICAgIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZVxuICAgIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbilcbiAgICBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIE92ZW5NREsgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwgYnV0IFdJVEhPVVQgQU5ZXG4gICAgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTU1xuICAgIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gU2VlIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhbG9uZ1xuICAgIHdpdGggT3ZlbiBNREsuIElmIG5vdCwgc2VlIDxodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuaW1wb3J0IGljb24gZnJvbSBcIkFTU0VUUy9kZWZhdWx0SWNvbi5wbmdcIjtcbk1vZEFQSS5tZXRhLnRpdGxlKFwiT3Zlbk1ESyBSdW50aW1lXCIpO1xuTW9kQVBJLm1ldGEudmVyc2lvbihcIkFscGhhIHYwLjFcIik7XG5Nb2RBUEkubWV0YS5kZXNjcmlwdGlvbihcIlVub2ZmaWNpYWwgZGV2IGtpdCB1c2VkIGZvciBzaW1wbGlmeWluZyBFYWdsZXJGb3JnZSBtb2QgZGV2ZWxvcG1lbnQuXCIpO1xuTW9kQVBJLm1ldGEuY3JlZGl0cyhcIkJlbmRpZUdhbWVzIGFuZCBCbG9ja18yMjIyXCIpO1xuTW9kQVBJLm1ldGEuaWNvbihpY29uKTtcbmltcG9ydCB7IHJlZ2lzdGVyU2VydmVySXRlbSwgcmVnaXN0ZXJTZXJ2ZXJCbG9jayB9IGZyb20gXCJjbGFzc2VzL2NvcmUvSGVscGVyX2Z1bmNcIjtcbmltcG9ydCBPSXRlbSBmcm9tIFwiY2xhc3Nlcy9jb3JlL09JdGVtXCI7XG5pbXBvcnQgT01vZCBmcm9tIFwiY2xhc3Nlcy9jb3JlL01vZFwiO1xuaW1wb3J0IE92ZW4gZnJvbSBcImNsYXNzZXMvY29yZS9PdmVuXCI7XG5pbXBvcnQgT0Jsb2NrIGZyb20gXCJjbGFzc2VzL2NvcmUvT0Jsb2NrXCI7XG5nbG9iYWxUaGlzLnJlZ2lzdGVyU2VydmVySXRlbSA9IHJlZ2lzdGVyU2VydmVySXRlbTtcbmdsb2JhbFRoaXMucmVnaXN0ZXJTZXJ2ZXJCbG9jayA9IHJlZ2lzdGVyU2VydmVyQmxvY2s7XG5nbG9iYWxUaGlzLk9JdGVtID0gT0l0ZW07XG5nbG9iYWxUaGlzLk9Nb2QgPSBPTW9kO1xuZ2xvYmFsVGhpcy5PdmVuTURLID0gT3Zlbjtcbmdsb2JhbFRoaXMuT0Jsb2NrID0gT0Jsb2NrO1xuLy9nbG9iYWxUaGlzLmlzU2VydmVyU2lkZSA9IGlzU2VydmVyU2lkZTtcbk1vZEFQSS5kZWRpY2F0ZWRTZXJ2ZXIuYXBwZW5kQ29kZShcImdsb2JhbFRoaXMucmVnaXN0ZXJTZXJ2ZXJJdGVtID0gXCIuY29uY2F0KHJlZ2lzdGVyU2VydmVySXRlbSwgXCI7XCIpKTtcbk1vZEFQSS5kZWRpY2F0ZWRTZXJ2ZXIuYXBwZW5kQ29kZShcImdsb2JhbFRoaXMucmVnaXN0ZXJTZXJ2ZXJCbG9jayA9IFwiLmNvbmNhdChyZWdpc3RlclNlcnZlckJsb2NrLCBcIjtcIikpO1xuY29uc29sZS5sb2coXCJPdmVuTURLIFJ1bnRpbWUgaW5pdGlhbGl6ZWRcIik7XG4iXSwibmFtZXMiOlsicmVnaXN0ZXJTZXJ2ZXJJdGVtIiwiaXRlbUlEIiwiaXRlbVN0YWNrIiwib25SaWdodENsaWNrIiwiTW9kQVBJIiwiaXNfMV8xMiIsInJlZmxlY3QiLCJnZXRDbGFzc0J5SWQiLCJzdGF0aWNWYXJpYWJsZXMiLCJ0YWJNaXNjIiwiTUlTQyIsIiQkaXRlbUdldEF0dHJpYnV0ZXMiLCJtZXRob2RzIiwiZ2V0SXRlbUF0dHJpYnV0ZU1vZGlmaWVycyIsIm1ldGhvZCIsIml0ZW1DbGFzcyIsIml0ZW1TdXBlciIsImdldFN1cGVyIiwiZm4iLCJsZW5ndGgiLCJubWlfT3Zlbkl0ZW0iLCJ0aGlzIiwiJHNldENyZWF0aXZlVGFiIiwiY3JlYXRpdmVNaXNjVGFiIiwiJG1heFN0YWNrU2l6ZSIsInByb3RvdHlwZVN0YWNrIiwicHJvdG90eXBlIiwiJG9uSXRlbVJpZ2h0Q2xpY2siLCIkJGl0ZW1zdGFjayIsIiQkd29ybGQiLCIkJHBsYXllciIsIiRzZXRJdGVtSW5Vc2UiLCJjb25zb2xlIiwibG9nIiwiJG9uVXBkYXRlIiwiJCRob3RiYXJfc2xvdCIsIiQkaXNfaGVsZCIsIiRvbkl0ZW1Vc2VGaW5pc2giLCIkZ2V0TWF4SXRlbVVzZUR1cmF0aW9uIiwiJGdldEl0ZW1BdHRyaWJ1dGVNb2RpZmllcnMiLCJhcHBseSIsIiRnZXRTdHJWc0Jsb2NrIiwiJCRibG9jayIsIiRvbkNyZWF0ZWQiLCIkb25CbG9ja0Rlc3Ryb3llZCIsIiQkYmxvY2twb3MiLCIkJGVudGl0eSIsImludGVybmFsX3JlZyIsIml0ZW1JbnN0YW5jZSIsIiRzZXRVbmxvY2FsaXplZE5hbWUiLCJ1dGlsIiwic3RyIiwiY29uY2F0Iiwic3RhdGljTWV0aG9kcyIsInJlZ2lzdGVySXRlbSIsImtleWdlbiIsIml0ZW0iLCJpdGVtcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZWdpc3RlclNlcnZlckJsb2NrIiwiYmxvY2tJRCIsIm9uQnJlYWsiLCJfdGhpcyIsIkJsb2NrQ2xhc3MiLCJJdGVtQ2xhc3MiLCJjcmVhdGl2ZVRhYiIsInRhYkJsb2NrIiwiYmxvY2tTdXBlciIsImJyZWFrQmxvY2tNZXRob2QiLCJicmVha0Jsb2NrIiwiQ3VzdG9tQmxvY2siLCJtYXRlcmlhbHMiLCJyb2NrIiwiZ2V0UmVmIiwiJGRlZmF1bHRCbG9ja1N0YXRlIiwiJGJsb2NrU3RhdGUiLCIkZ2V0QmFzZVN0YXRlIiwiJGJyZWFrQmxvY2siLCIkd29ybGQiLCIkYmxvY2twb3MiLCIkYmxvY2tzdGF0ZSIsImludGVybmFsUmVnaXN0ZXIiLCJjdXN0b21fYmxvY2siLCJibG9ja1JlZ2lzdHJ5IiwiQkxPQ0tfU1RBVEVfSURTIiwiJHNldEhhcmRuZXNzIiwiJHNldFN0ZXBTb3VuZCIsInNvdW5kVHlwZVBpc3RvbiIsIiRzZXRTb3VuZFR5cGUiLCJibG9ja1NvdW5kcyIsIlBMQU5UIiwicmVnaXN0ZXJCbG9jazAiLCJibG9jayIsInJlZ2lzdGVySXRlbUJsb2NrMCIsIndyYXAiLCJnZXRDb3JyZWN0aXZlIiwicmVnaXN0cnlPYmplY3RzIiwiaGFzaFRhYmxlS1RvViIsImZvckVhY2giLCJlbnRyeSIsImJsb2NrXzEiLCJ2YWx1ZSIsInZhbGlkU3RhdGVzIiwiZ2V0QmxvY2tTdGF0ZSIsImdldFZhbGlkU3RhdGVzIiwiYXJyYXkiLCJlbGVtZW50IiwiaWJsb2Nrc3RhdGUiLCJpIiwiZ2V0SURGb3JPYmplY3QiLCJnZXRNZXRhRnJvbVN0YXRlIiwicHV0IiwiYmxvY2tzIiwiT01vZCIsImNvbmZpZyIsImluaXQiLCJwb3N0SW5pdCIsImRpc3BsYXlDaGF0TWVzc2FnZSIsIm1zZyIsImRpc3BsYXlUb0NoYXQiLCJ0aXRsZSIsInZlcnNpb24iLCJkZXNjcmlwdGlvbiIsImNyZWRpdHMiLCJpY29uIiwiYWNjZXB0ZWRNaW5lY3JhZnRWZXJzaW9ucyIsImFjY2VwdGVkRWFnbGVyVXBkYXRlcyIsImFjY2VwdGVkRUZWZXJzaW9ucyIsImFjY2VwdGVkRUZGbGF2b3VyIiwiY2xpZW50U2lkZU9ubHkiLCJzZXJ2ZXJTaWRlT25seSIsIm9ubHlfMV8xMl8yIiwiRGVidWdfbW9kZSIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwidCIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwiZyIsIk9iamVjdCIsImNyZWF0ZSIsIkl0ZXJhdG9yIiwidmVyYiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibiIsInYiLCJvcCIsIlR5cGVFcnJvciIsImNhbGwiLCJwb3AiLCJwdXNoIiwiT0Jsb2NrIiwiYmxvY2tOYW1lIiwidGV4dHVyZSIsImJsb2NrVGV4dHVyZSIsInJlZ2lzdGVyIiwic2VsZiIsImZpeHVwQmxvY2tJZHMiLCJibG9ja0luc3RhbmNlIiwicmVnaXN0ZXJCbG9jayIsIl9hIiwiZGVkaWNhdGVkU2VydmVyIiwiYXBwZW5kQ29kZSIsImJ1ZmZlciIsInJlbmRlckl0ZW0iLCJBc3luY1NpbmsiLCJMMTBOIiwic2V0Iiwic2V0RmlsZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXJlbnQiLCJ0ZXh0dXJlcyIsImFsbCIsImRpc3BsYXkiLCJ0aGlyZHBlcnNvbiIsInJvdGF0aW9uIiwidHJhbnNsYXRpb24iLCJzY2FsZSIsInZhcmlhbnRzIiwibm9ybWFsIiwibW9kZWwiLCJmZXRjaCIsImFycmF5QnVmZmVyIiwiT0l0ZW0iLCJpdGVtTmFtZSIsIml0ZW1UZXh0dXJlIiwicmVnaXN0ZXJDbGllbnQiLCJjdXN0b21faXRlbSIsImxheWVyMCIsImZpcnN0cGVyc29uIiwiT3ZlbiIsInJlZ2lzdGVyTW9kIiwibW9kQ2xhc3MiLCJtZXRhIiwiZ2xvYmFsVGhpcyIsIm1vZHMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsInIiLCJ0b1N0cmluZ1RhZyIsIk92ZW5NREsiXSwic291cmNlUm9vdCI6IiJ9